import{r as qe,s as gt,c as Ra,u as Pa,g as Ma,a as Ca,x as La,i as Ha,n as vt,o as $e,y as De,z as ma}from"../chunks/scheduler.m4vwWxz1.js";import{a as A,t as C,S as pt,i as _t,e as b,c as $,d as y,g as d,o as m,j as M,s as D,b as q,y as ht,h as E,f as j,k as c,l as st,z as Gt,A as Ee,B as Va,u as K,v as X,w as J,x as Y,m as ke,q as Ot,n as Ut}from"../chunks/index.BxN3u_vA.js";function Se(a){return(a==null?void 0:a.length)!==void 0?a:Array.from(a)}function Na(a,t){a.d(1),t.delete(a.key)}function Aa(a,t){A(a,1,1,()=>{t.delete(a.key)})}function va(a,t,e,r,n,s,i,l,h,o,f,v){let u=a.length,g=s.length,p=u;const T={};for(;p--;)T[a[p].key]=p;const S=[],I=new Map,w=new Map,k=[];for(p=g;p--;){const L=v(n,s,p),N=e(L);let H=i.get(N);H?k.push(()=>H.p(L,t)):(H=o(N,L),H.c()),I.set(N,S[p]=H),N in T&&w.set(N,Math.abs(p-T[N]))}const V=new Set,B=new Set;function Z(L){C(L,1),L.m(l,f),i.set(L.key,L),f=L.first,g--}for(;u&&g;){const L=S[g-1],N=a[u-1],H=L.key,W=N.key;L===N?(f=L.first,u--,g--):I.has(W)?!i.has(H)||V.has(H)?Z(L):B.has(W)?u--:w.get(H)>w.get(W)?(B.add(H),Z(L)):(V.add(W),u--):(h(N,i),u--)}for(;u--;){const L=a[u];I.has(L.key)||h(L,i)}for(;g;)Z(S[g-1]);return qe(k),S}const Fa=!1,Fn=Object.freeze(Object.defineProperty({__proto__:null,ssr:Fa},Symbol.toStringTag,{value:"Module"}));var ga=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function pa(a){return a&&a.__esModule&&Object.prototype.hasOwnProperty.call(a,"default")?a.default:a}var _a={exports:{}};(function(a,t){(function(e,r){a.exports=r()})(ga,function(){var e=function(){function r(g){return i.appendChild(g.dom),g}function n(g){for(var p=0;p<i.children.length;p++)i.children[p].style.display=p===g?"block":"none";s=g}var s=0,i=document.createElement("div");i.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",i.addEventListener("click",function(g){g.preventDefault(),n(++s%i.children.length)},!1);var l=(performance||Date).now(),h=l,o=0,f=r(new e.Panel("FPS","#0ff","#002")),v=r(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var u=r(new e.Panel("MB","#f08","#201"));return n(0),{REVISION:16,dom:i,addPanel:r,showPanel:n,begin:function(){l=(performance||Date).now()},end:function(){o++;var g=(performance||Date).now();if(v.update(g-l,200),g>h+1e3&&(f.update(1e3*o/(g-h),100),h=g,o=0,u)){var p=performance.memory;u.update(p.usedJSHeapSize/1048576,p.jsHeapSizeLimit/1048576)}return g},update:function(){l=this.end()},domElement:i,setMode:n}};return e.Panel=function(r,n,s){var i=1/0,l=0,h=Math.round,o=h(window.devicePixelRatio||1),f=80*o,v=48*o,u=3*o,g=2*o,p=3*o,T=15*o,S=74*o,I=30*o,w=document.createElement("canvas");w.width=f,w.height=v,w.style.cssText="width:80px;height:48px";var k=w.getContext("2d");return k.font="bold "+9*o+"px Helvetica,Arial,sans-serif",k.textBaseline="top",k.fillStyle=s,k.fillRect(0,0,f,v),k.fillStyle=n,k.fillText(r,u,g),k.fillRect(p,T,S,I),k.fillStyle=s,k.globalAlpha=.9,k.fillRect(p,T,S,I),{dom:w,update:function(V,B){i=Math.min(i,V),l=Math.max(l,V),k.fillStyle=s,k.globalAlpha=1,k.fillRect(0,0,f,T),k.fillStyle=n,k.fillText(h(V)+" "+r+" ("+h(i)+"-"+h(l)+")",u,g),k.drawImage(w,p+o,T,S-o,I,p,T,S-o,I),k.fillRect(p+S-o,T,o,I),k.fillStyle=s,k.globalAlpha=.9,k.fillRect(p+S-o,T,o,h((1-V/B)*I))}}},e})})(_a);var Ba=_a.exports;const qa=pa(Ba);var ba={exports:{}};/**
 * @license MIT
 * topbar 3.0.0
 * http://buunguyen.github.io/topbar
 * Copyright (c) 2024 Buu Nguyen
 */(function(a){(function(t,e){function r(){n.width=t.innerWidth,n.height=5*f.barThickness;var u=n.getContext("2d");u.shadowBlur=f.shadowBlur,u.shadowColor=f.shadowColor;var g,p=u.createLinearGradient(0,0,n.width,0);for(g in f.barColors)p.addColorStop(g,f.barColors[g]);u.lineWidth=f.barThickness,u.beginPath(),u.moveTo(0,f.barThickness/2),u.lineTo(Math.ceil(s*n.width),f.barThickness/2),u.strokeStyle=p,u.stroke()}var n,s,i,l=null,h=null,o=null,f={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)",className:null},v={config:function(u){for(var g in u)f.hasOwnProperty(g)&&(f[g]=u[g])},show:function(u){var g,p;i||(u?o=o||setTimeout(()=>v.show(),u):(i=!0,h!==null&&t.cancelAnimationFrame(h),n||((p=(n=e.createElement("canvas")).style).position="fixed",p.top=p.left=p.right=p.margin=p.padding=0,p.zIndex=100001,p.display="none",f.className&&n.classList.add(f.className),g="resize",u=r,(p=t).addEventListener?p.addEventListener(g,u,!1):p.attachEvent?p.attachEvent("on"+g,u):p["on"+g]=u),n.parentElement||e.body.appendChild(n),n.style.opacity=1,n.style.display="block",v.progress(0),f.autoRun&&function T(){l=t.requestAnimationFrame(T),v.progress("+"+.05*Math.pow(1-Math.sqrt(s),2))}()))},progress:function(u){return u===void 0||(typeof u=="string"&&(u=(0<=u.indexOf("+")||0<=u.indexOf("-")?s:0)+parseFloat(u)),s=1<u?1:u,r()),s},hide:function(){clearTimeout(o),o=null,i&&(i=!1,l!=null&&(t.cancelAnimationFrame(l),l=null),function u(){return 1<=v.progress("+.1")&&(n.style.opacity-=.05,n.style.opacity<=.05)?(n.style.display="none",void(h=null)):void(h=t.requestAnimationFrame(u))}())}};a.exports=v}).call(ga,window,document)})(ba);var ja=ba.exports;const ze=pa(ja);function Oa(a){let t,e;const r=a[1].default,n=Ra(r,a,a[0],null);return{c(){t=b("div"),n&&n.c(),this.h()},l(s){t=$(s,"DIV",{class:!0});var i=y(t);n&&n.l(i),i.forEach(d),this.h()},h(){m(t,"class","container main-container svelte-1afmsuo")},m(s,i){M(s,t,i),n&&n.m(t,null),e=!0},p(s,[i]){n&&n.p&&(!e||i&1)&&Pa(n,r,s,s[0],e?Ca(r,s[0],i,null):Ma(s[0]),null)},i(s){e||(C(n,s),e=!0)},o(s){A(n,s),e=!1},d(s){s&&d(t),n&&n.d(s)}}}function Ua(a,t,e){let{$$slots:r={},$$scope:n}=t;return a.$$set=s=>{"$$scope"in s&&e(0,n=s.$$scope)},[n,r]}class za extends pt{constructor(t){super(),_t(this,t,Ua,Oa,gt,{})}}class Te{static intRandomBetween(t,e){return t>e&&([t,e]=[e,t]),Math.floor(Math.random()*(e-t+1))+t}static floatRandomBetween(t,e){return t>e&&([t,e]=[e,t]),Math.random()*(e-t)+t}static shuffle(t){const e=[...t];let r=e.length;for(;r!=0;){let n=Math.floor(Math.random()*r);r--,[e[r],e[n]]=[e[n],e[r]]}return e}static formatDateTime(t){const e=new Date(t),r=String(e.getHours()).padStart(2,"0"),n=String(e.getMinutes()).padStart(2,"0"),s=String(e.getSeconds()).padStart(2,"0"),i=String(e.getMilliseconds()).padStart(3,"0");return`${r}:${n}:${s}.${i}`}}const Wa=(a,t)=>(a.appendChild(t.dom),{destroy(){t.dom.remove()}});function Qa(a){let t,e,r="Clock",n,s,i,l,h,o=Te.formatDateTime(a[0].time.now)+"",f,v,u,g,p,T,S;return{c(){t=b("div"),e=b("div"),e.textContent=r,n=D(),s=b("div"),i=b("div"),l=b("div"),h=b("div"),f=q(o),v=D(),u=b("div"),g=b("div"),this.h()},l(I){t=$(I,"DIV",{class:!0});var w=y(t);e=$(w,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1t05cbs"&&(e.textContent=r),n=E(w),s=$(w,"DIV",{class:!0});var k=y(s);i=$(k,"DIV",{class:!0});var V=y(i);l=$(V,"DIV",{class:!0});var B=y(l);h=$(B,"DIV",{class:!0});var Z=y(h);f=j(Z,o),Z.forEach(d),B.forEach(d),v=E(V),u=$(V,"DIV",{class:!0});var L=y(u);g=$(L,"DIV",{class:!0}),y(g).forEach(d),L.forEach(d),V.forEach(d),k.forEach(d),w.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(h,"class","clock text-center svelte-gxgc4u"),m(l,"class","col"),m(g,"class","stats svelte-gxgc4u"),m(u,"class","col text-center"),m(i,"class","row"),m(s,"class","card-body text-center"),m(t,"class","card")},m(I,w){M(I,t,w),c(t,e),c(t,n),c(t,s),c(s,i),c(i,l),c(l,h),c(h,f),c(i,v),c(i,u),c(u,g),T||(S=La(p=Wa.call(null,g,a[1])),T=!0)},p(I,[w]){w&1&&o!==(o=Te.formatDateTime(I[0].time.now)+"")&&st(f,o),p&&Ha(p.update)&&w&2&&p.update.call(null,I[1])},i:vt,o:vt,d(I){I&&d(t),T=!1,S()}}}function Ga(a,t,e){let{clock:r}=t,{stats:n}=t;const s=l=>{l.stopImmediatePropagation()},i=l=>{l.addEventListener("click",s,!0)};return $e(()=>{n.dom.removeAttribute("style");const l=n.dom.querySelectorAll("canvas");l[0].removeAttribute("style"),l[0].classList.add("stats-fps"),l[1].removeAttribute("style"),l[1].classList.add("stats-ms"),l[2].removeAttribute("style"),l[2].classList.add("stats-mb"),i(n.dom),i(l[0]),i(l[1]),i(l[2])}),a.$$set=l=>{"clock"in l&&e(0,r=l.clock),"stats"in l&&e(1,n=l.stats)},[r,n]}class Ka extends pt{constructor(t){super(),_t(this,t,Ga,Qa,gt,{clock:0,stats:1})}}class mt{static shortNumber(t,e){if(t==null)return"-";const r=e==="BRL"?"R$ ":"",n=e==="BRL"?"pt-br":"en-us",s=t;return s>5e11||s<-5e11?`${r}${(s/1e12).toLocaleString(n,{maximumFractionDigits:1})}T`:s>5e8||s<-5e8?`${r}${(s/1e9).toLocaleString(n,{maximumFractionDigits:1})}b`:s>5e5||s<-5e5?`${r}${(s/1e6).toLocaleString(n,{maximumFractionDigits:1})}M`:s>5e4||s<-5e4?`${r}${(s/1e3).toLocaleString(n,{maximumFractionDigits:0})}k`:s>500||s<-500?`${r}${(s/1e3).toLocaleString(n,{maximumFractionDigits:1})}k`:s.toLocaleString(n,{maximumFractionDigits:2})==="-0"?`${r}0`:s.toLocaleString(n,{maximumFractionDigits:1})==="-0"?`${r}${s.toLocaleString(n,{maximumFractionDigits:2})}`:s.toLocaleString(n,{maximumFractionDigits:0})==="-0"?`${r}${s.toLocaleString(n,{maximumFractionDigits:1})}`:s<10&&s>0?`${r}${s.toLocaleString(n,{maximumFractionDigits:2})}`:`${r}${s.toLocaleString(n,{maximumFractionDigits:0})}`}static dateTime(t){if(t===void 0)return"-";const e=new Date(t),r=e.toLocaleDateString({weekday:"long",year:"numeric",month:"short",day:"numeric"}),n=e.toLocaleTimeString();return`${r} - ${n}`}static time(t){return t===void 0?"-":new Date(t).toLocaleTimeString()}static number(t,e,r){if(t===void 0)return"-";const n="en-us";return e===void 0&&(e=0),r===void 0&&(r=0),`${t.toLocaleString(n,{minimumFractionDigits:e,maximumFractionDigits:r})}`}static money(t,e){const r=e==="BRL"?"R$ ":"$",n=e==="BRL"?"pt-br":"en-us";return`${r}${t.toLocaleString(n,{minimumFractionDigits:2,maximumFractionDigits:2})}`}static percent(t,e,r){let n=2,s=2;return e!==void 0&&(n=e),r!==void 0&&(s=r),`${(t*100).toLocaleString("en-us",{minimumFractionDigits:n,maximumFractionDigits:s})}%`}static percentPrecise(t){return`${(t*100).toLocaleString("en-us",{minimumFractionDigits:0,maximumFractionDigits:5})}%`}}function Xa(a){let t,e,r="Threads",n,s,i,l=mt.shortNumber(a[0])+"",h;return{c(){t=b("div"),e=b("div"),e.textContent=r,n=D(),s=b("div"),i=b("span"),h=q(l),this.h()},l(o){t=$(o,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-xqpbyv"&&(e.textContent=r),n=E(f),s=$(f,"DIV",{class:!0});var v=y(s);i=$(v,"SPAN",{class:!0});var u=y(i);h=j(u,l),u.forEach(d),v.forEach(d),f.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(i,"class","fs-3 actual"),m(s,"class","card-body text-center"),m(t,"class","card")},m(o,f){M(o,t,f),c(t,e),c(t,n),c(t,s),c(s,i),c(i,h)},p(o,[f]){f&1&&l!==(l=mt.shortNumber(o[0])+"")&&st(h,l)},i:vt,o:vt,d(o){o&&d(t)}}}function Ja(a,t,e){let{threads:r}=t;return a.$$set=n=>{"threads"in n&&e(0,r=n.threads)},[r]}class Ya extends pt{constructor(t){super(),_t(this,t,Ja,Xa,gt,{threads:0})}}function Za(a){let t,e,r="Controls",n,s,i,l="Empty Queues, History, and Restart Simulation",h,o;return{c(){t=b("div"),e=b("div"),e.textContent=r,n=D(),s=b("div"),i=b("button"),i.textContent=l,this.h()},l(f){t=$(f,"DIV",{class:!0});var v=y(t);e=$(v,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-1cs9qy6"&&(e.textContent=r),n=E(v),s=$(v,"DIV",{class:!0});var u=y(s);i=$(u,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),ht(i)!=="svelte-9fzyzh"&&(i.textContent=l),u.forEach(d),v.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(i,"type","button"),m(i,"class","btn btn-info"),m(s,"class","card-body text-center"),m(t,"class","card")},m(f,v){M(f,t,v),c(t,e),c(t,n),c(t,s),c(s,i),h||(o=Gt(i,"click",a[0]),h=!0)},p:vt,i:vt,o:vt,d(f){f&&d(t),h=!1,o()}}}function xa(a,t,e){let{system:r}=t;const n=()=>{r.restart()};return a.$$set=s=>{"system"in s&&e(1,r=s.system)},[n,r]}class tr extends pt{constructor(t){super(),_t(this,t,xa,Za,gt,{system:1})}}function er(a){let t,e,r="Deterministic Seed",n,s,i,l,h,o,f="New Seed",v,u;return{c(){t=b("div"),e=b("div"),e.textContent=r,n=D(),s=b("div"),i=b("div"),l=b("input"),h=D(),o=b("button"),o.textContent=f,this.h()},l(g){t=$(g,"DIV",{class:!0});var p=y(t);e=$(p,"DIV",{class:!0,"data-svelte-h":!0}),ht(e)!=="svelte-vm3ox9"&&(e.textContent=r),n=E(p),s=$(p,"DIV",{class:!0});var T=y(s);i=$(T,"DIV",{class:!0});var S=y(i);l=$(S,"INPUT",{type:!0,class:!0,"aria-label":!0,"aria-describedby":!0}),h=E(S),o=$(S,"BUTTON",{class:!0,type:!0,id:!0,"data-svelte-h":!0}),ht(o)!=="svelte-2xm1z"&&(o.textContent=f),S.forEach(d),T.forEach(d),p.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(l,"type","text"),m(l,"class","form-control text-center"),m(l,"aria-label","Deterministic Seed"),m(l,"aria-describedby","new-seed"),m(o,"class","btn btn-outline-info"),m(o,"type","button"),m(o,"id","new-seed"),m(i,"class","input-group mb-3"),m(s,"class","card-body text-center"),m(t,"class","card")},m(g,p){M(g,t,p),c(t,e),c(t,n),c(t,s),c(s,i),c(i,l),Ee(l,a[0].seed),c(i,h),c(i,o),v||(u=[Gt(l,"input",a[3]),Gt(l,"input",a[2]),Gt(o,"click",a[1])],v=!0)},p(g,[p]){p&1&&l.value!==g[0].seed&&Ee(l,g[0].seed)},i:vt,o:vt,d(g){g&&d(t),v=!1,qe(u)}}}function ar(a,t,e){let{system:r}=t;const n=()=>{r.restart(!0),e(0,r)},s=l=>{e(0,r.seed=l.target.value,r),r.restart()};$e(()=>{e(0,r)});function i(){r.seed=this.value,e(0,r)}return a.$$set=l=>{"system"in l&&e(0,r=l.system)},[r,n,s,i]}class rr extends pt{constructor(t){super(),_t(this,t,ar,er,gt,{system:0})}}function nr(a){let t,e,r,n,s,i=a[2](a[3])+"",l,h,o,f,v;return{c(){t=b("div"),e=b("label"),r=q(a[0]),n=q(": "),s=b("code"),l=q(i),h=D(),o=b("input"),this.h()},l(u){t=$(u,"DIV",{});var g=y(t);e=$(g,"LABEL",{for:!0,class:!0});var p=y(e);r=j(p,a[0]),n=j(p,": "),s=$(p,"CODE",{});var T=y(s);l=j(T,i),T.forEach(d),p.forEach(d),h=E(g),o=$(g,"INPUT",{id:!0,type:!0,class:!0,step:!0,min:!0,max:!0}),g.forEach(d),this.h()},h(){m(e,"for",`range-${a[6]}`),m(e,"class","form-label"),m(o,"id",`range-${a[6]}`),m(o,"type","range"),m(o,"class","form-range"),m(o,"step",a[1]),m(o,"min",a[4]),m(o,"max",a[5])},m(u,g){M(u,t,g),c(t,e),c(e,r),c(e,n),c(e,s),c(s,l),c(t,h),c(t,o),Ee(o,a[3]),f||(v=[Gt(o,"change",a[9]),Gt(o,"input",a[9]),Gt(o,"input",a[7])],f=!0)},p(u,[g]){g&1&&st(r,u[0]),g&12&&i!==(i=u[2](u[3])+"")&&st(l,i),g&2&&m(o,"step",u[1]),g&8&&Ee(o,u[3])},i:vt,o:vt,d(u){u&&d(t),f=!1,qe(v)}}}function sr(a,t,e){let{range:r}=t,{label:n}=t,{step:s=1}=t,{format:i=g=>g}=t,{min:l,max:h,value:o,id:f}=r;const v=g=>{e(8,r.value=g.target.value,r)};function u(){o=Va(this.value),e(3,o)}return a.$$set=g=>{"range"in g&&e(8,r=g.range),"label"in g&&e(0,n=g.label),"step"in g&&e(1,s=g.step),"format"in g&&e(2,i=g.format)},[n,s,i,o,l,h,f,v,r,u]}class Yt extends pt{constructor(t){super(),_t(this,t,sr,nr,gt,{range:8,label:0,step:1,format:2})}}function ir(a){let t,e,r=a[0].label+"",n,s,i,l,h=a[0].id+"",o,f,v,u,g,p,T,S,I,w;return p=new Yt({props:{label:"transaction requests / second",step:10,format:a[1],range:a[0].transactionsPerSecond}}),I=new Yt({props:{label:"datoms / transaction",step:5,format:a[2],range:a[0].datomsPerTransaction}}),{c(){t=b("div"),e=b("div"),n=q(r),s=D(),i=b("div"),l=b("code"),o=q(h),f=D(),v=b("div"),u=b("div"),g=b("div"),K(p.$$.fragment),T=D(),S=b("div"),K(I.$$.fragment),this.h()},l(k){t=$(k,"DIV",{class:!0});var V=y(t);e=$(V,"DIV",{class:!0});var B=y(e);n=j(B,r),s=E(B),i=$(B,"DIV",{class:!0});var Z=y(i);l=$(Z,"CODE",{});var L=y(l);o=j(L,h),L.forEach(d),Z.forEach(d),B.forEach(d),f=E(V),v=$(V,"DIV",{class:!0});var N=y(v);u=$(N,"DIV",{class:!0});var H=y(u);g=$(H,"DIV",{class:!0});var W=y(g);X(p.$$.fragment,W),W.forEach(d),T=E(H),S=$(H,"DIV",{class:!0});var U=y(S);X(I.$$.fragment,U),U.forEach(d),H.forEach(d),N.forEach(d),V.forEach(d),this.h()},h(){m(i,"class","float-end"),m(e,"class","card-header"),m(g,"class","col"),m(S,"class","col"),m(u,"class","row"),m(v,"class","card-body"),m(t,"class","card")},m(k,V){M(k,t,V),c(t,e),c(e,n),c(e,s),c(e,i),c(i,l),c(l,o),c(t,f),c(t,v),c(v,u),c(u,g),J(p,g,null),c(u,T),c(u,S),J(I,S,null),w=!0},p(k,[V]){(!w||V&1)&&r!==(r=k[0].label+"")&&st(n,r),(!w||V&1)&&h!==(h=k[0].id+"")&&st(o,h);const B={};V&1&&(B.range=k[0].transactionsPerSecond),p.$set(B);const Z={};V&1&&(Z.range=k[0].datomsPerTransaction),I.$set(Z)},i(k){w||(C(p.$$.fragment,k),C(I.$$.fragment,k),w=!0)},o(k){A(p.$$.fragment,k),A(I.$$.fragment,k),w=!1},d(k){k&&d(t),Y(p),Y(I)}}}function lr(a,t,e){let{peer:r}=t;const n=i=>`≈${mt.number(i)}`,s=i=>`≈${mt.number(i)}`;return a.$$set=i=>{"peer"in i&&e(0,r=i.peer)},[r,n,s]}class or extends pt{constructor(t){super(),_t(this,t,lr,ir,gt,{peer:0})}}function We(a){let t,e,r,n;return{c(){t=b("div"),e=b("div"),this.h()},l(s){t=$(s,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var i=y(t);e=$(i,"DIV",{class:!0,style:!0}),y(e).forEach(d),i.forEach(d),this.h()},h(){m(e,"class",r=De(`progress-bar bg-${a[1]} text-dark`)+" svelte-g4x9xm"),m(e,"style",n=`width: ${a[7]}%`),m(t,"class","progress hints svelte-g4x9xm"),m(t,"role","progressbar"),m(t,"aria-label","Info example"),m(t,"aria-valuenow",a[2]),m(t,"aria-valuemin","0"),m(t,"aria-valuemax",a[5])},m(s,i){M(s,t,i),c(t,e)},p(s,i){i&2&&r!==(r=De(`progress-bar bg-${s[1]} text-dark`)+" svelte-g4x9xm")&&m(e,"class",r),i&128&&n!==(n=`width: ${s[7]}%`)&&m(e,"style",n),i&4&&m(t,"aria-valuenow",s[2]),i&32&&m(t,"aria-valuemax",s[5])},d(s){s&&d(t)}}}function cr(a){let t,e,r=a[3](a[0])+"",n,s,i,l,h,o=a[2]!==null&&We(a);return{c(){t=b("div"),e=b("div"),n=q(r),l=D(),o&&o.c(),h=ke(),this.h()},l(f){t=$(f,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var v=y(t);e=$(v,"DIV",{class:!0,style:!0});var u=y(e);n=j(u,r),u.forEach(d),v.forEach(d),l=E(f),o&&o.l(f),h=ke(),this.h()},h(){m(e,"class",s=De(`progress-bar bg-${a[1]} text-dark`)+" svelte-g4x9xm"),m(e,"style",i=`width: ${a[6]}%`),m(t,"class","progress"),m(t,"role","progressbar"),m(t,"aria-label","Info example"),m(t,"aria-valuenow",a[0]),m(t,"aria-valuemin","0"),m(t,"aria-valuemax",a[4])},m(f,v){M(f,t,v),c(t,e),c(e,n),M(f,l,v),o&&o.m(f,v),M(f,h,v)},p(f,[v]){v&9&&r!==(r=f[3](f[0])+"")&&st(n,r),v&2&&s!==(s=De(`progress-bar bg-${f[1]} text-dark`)+" svelte-g4x9xm")&&m(e,"class",s),v&64&&i!==(i=`width: ${f[6]}%`)&&m(e,"style",i),v&1&&m(t,"aria-valuenow",f[0]),v&16&&m(t,"aria-valuemax",f[4]),f[2]!==null?o?o.p(f,v):(o=We(f),o.c(),o.m(h.parentNode,h)):o&&(o.d(1),o=null)},i:vt,o:vt,d(f){f&&(d(t),d(l),d(h)),o&&o.d(f)}}}function fr(a,t,e){let{value:r}=t,{color:n="info"}=t,{max:s=null}=t,{min:i=null}=t,{hits:l=null}=t,{format:h=p=>p}=t,o=s===null?0:s,f=0;const v=(p,T,S)=>T===0?0:(p!==0&&p<S?S+p:p)/T*100;let u=0,g=0;return a.$$set=p=>{"value"in p&&e(0,r=p.value),"color"in p&&e(1,n=p.color),"max"in p&&e(8,s=p.max),"min"in p&&e(9,i=p.min),"hits"in p&&e(2,l=p.hits),"format"in p&&e(3,h=p.format)},a.$$.update=()=>{a.$$.dirty&309&&(s===null&&r>o&&e(4,o=r),l!==null&&l>f&&e(5,f=l)),a.$$.dirty&565&&(e(6,u=v(r,o,i)),l!==null&&e(7,g=v(l,f,0)))},[r,n,l,h,o,f,u,g,s,i]}class Ft extends pt{constructor(t){super(),_t(this,t,fr,cr,gt,{value:0,color:1,max:8,min:9,hits:2,format:3})}}function ur(a){let t,e,r;return e=new Ft({props:{color:"danger",format:a[5],value:a[2][`${a[3]}Queue`].length}}),{c(){t=q(`Queue Size:
			`),K(e.$$.fragment)},l(n){t=j(n,`Queue Size:
			`),X(e.$$.fragment,n)},m(n,s){M(n,t,s),J(e,n,s),r=!0},p(n,s){const i={};s&12&&(i.value=n[2][`${n[3]}Queue`].length),e.$set(i)},i(n){r||(C(e.$$.fragment,n),r=!0)},o(n){A(e.$$.fragment,n),r=!1},d(n){n&&d(t),Y(e,n)}}}function hr(a){let t,e,r;return e=new Ft({props:{color:"danger",format:a[4],value:a[2][`${a[3]}Map`].size}}),{c(){t=q(`In Memory:
			`),K(e.$$.fragment)},l(n){t=j(n,`In Memory:
			`),X(e.$$.fragment,n)},m(n,s){M(n,t,s),J(e,n,s),r=!0},p(n,s){const i={};s&12&&(i.value=n[2][`${n[3]}Map`].size),e.$set(i)},i(n){r||(C(e.$$.fragment,n),r=!0)},o(n){A(e.$$.fragment,n),r=!1},d(n){n&&d(t),Y(e,n)}}}function dr(a){let t,e,r,n,s,i,l,h;const o=[hr,ur],f=[];function v(u,g){return u[0]?0:1}return i=v(a),l=f[i]=o[i](a),{c(){t=b("div"),e=b("div"),r=q(a[1]),n=D(),s=b("div"),l.c(),this.h()},l(u){t=$(u,"DIV",{class:!0});var g=y(t);e=$(g,"DIV",{class:!0});var p=y(e);r=j(p,a[1]),p.forEach(d),n=E(g),s=$(g,"DIV",{class:!0});var T=y(s);l.l(T),T.forEach(d),g.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(s,"class","card-body"),m(t,"class","card")},m(u,g){M(u,t,g),c(t,e),c(e,r),c(t,n),c(t,s),f[i].m(s,null),h=!0},p(u,[g]){(!h||g&2)&&st(r,u[1]);let p=i;i=v(u),i===p?f[i].p(u,g):(Ot(),A(f[p],1,1,()=>{f[p]=null}),Ut(),l=f[i],l?l.p(u,g):(l=f[i]=o[i](u),l.c()),C(l,1),l.m(s,null))},i(u){h||(C(l),h=!0)},o(u){A(l),h=!1},d(u){u&&d(t),f[i].d()}}}function mr(a,t,e){let{memory:r=!1}=t,{title:n}=t,{transactor:s}=t,{queue:i}=t;const l=o=>`${mt.shortNumber(o)}`,h=o=>`${mt.shortNumber(o)}`;return a.$$set=o=>{"memory"in o&&e(0,r=o.memory),"title"in o&&e(1,n=o.title),"transactor"in o&&e(2,s=o.transactor),"queue"in o&&e(3,i=o.queue)},[r,n,s,i,l,h]}class Ce extends pt{constructor(t){super(),_t(this,t,mr,dr,gt,{memory:0,title:1,transactor:2,queue:3})}}function vr(a){let t,e=mt.shortNumber(a[2].actual)+"",r,n,s,i,l=mt.shortNumber(a[2].potential)+"",h;return{c(){t=b("span"),r=q(e),n=D(),s=b("span"),i=q("↑ "),h=q(l),this.h()},l(o){t=$(o,"SPAN",{class:!0});var f=y(t);r=j(f,e),f.forEach(d),n=E(o),s=$(o,"SPAN",{class:!0});var v=y(s);i=j(v,"↑ "),h=j(v,l),v.forEach(d),this.h()},h(){m(t,"class","fs-3 actual svelte-dw75hy"),m(s,"class","text-info-emphasis")},m(o,f){M(o,t,f),c(t,r),M(o,n,f),M(o,s,f),c(s,i),c(s,h)},p(o,f){f&4&&e!==(e=mt.shortNumber(o[2].actual)+"")&&st(r,e),f&4&&l!==(l=mt.shortNumber(o[2].potential)+"")&&st(h,l)},d(o){o&&(d(t),d(n),d(s))}}}function gr(a){let t,e,r=mt.number(a[2].latency,0,1)+"",n,s;return{c(){t=b("span"),e=q("≈"),n=q(r),s=q("ms"),this.h()},l(i){t=$(i,"SPAN",{class:!0});var l=y(t);e=j(l,"≈"),n=j(l,r),s=j(l,"ms"),l.forEach(d),this.h()},h(){m(t,"class","fs-3 actual svelte-dw75hy")},m(i,l){M(i,t,l),c(t,e),c(t,n),c(t,s)},p(i,l){l&4&&r!==(r=mt.number(i[2].latency,0,1)+"")&&st(n,r)},d(i){i&&d(t)}}}function pr(a){let t,e,r,n,s;function i(o,f){return o[1]?gr:vr}let l=i(a),h=l(a);return{c(){t=b("div"),e=b("div"),r=q(a[0]),n=D(),s=b("div"),h.c(),this.h()},l(o){t=$(o,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0});var v=y(e);r=j(v,a[0]),v.forEach(d),n=E(f),s=$(f,"DIV",{class:!0});var u=y(s);h.l(u),u.forEach(d),f.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(s,"class","card-body text-center"),m(t,"class","card")},m(o,f){M(o,t,f),c(t,e),c(e,r),c(t,n),c(t,s),h.m(s,null)},p(o,[f]){f&1&&st(r,o[0]),l===(l=i(o))&&h?h.p(o,f):(h.d(1),h=l(o),h&&(h.c(),h.m(s,null)))},i:vt,o:vt,d(o){o&&d(t),h.d()}}}function _r(a,t,e){let{title:r}=t,{transactor:n}=t,{queue:s}=t,{per:i="second"}=t,{latency:l=!1}=t;const h=u=>{let g=u.length-1;const p=u[g].startedAt.performance,T=u[0].startedAt.performance,S=p-T,I=Math.min(5e3,S),w=[];for(;g>=0;){const V=u[g],B=p-V.startedAt.performance;if(w.push(V),g--,B>I)break;w.push(V),g--}const k=w.reduce((V,B)=>V+B.transaction.stats.total,0)/w.length;return i=="second"?{actual:Math.floor(w.length/I*1e3),potential:1e3/k,latency:k}:{actual:Math.floor(w.length/I*1e3*60),potential:1e3*60/k,latency:k}};let o,f={actual:0};const v=()=>{n[`${s}History`].length>0?e(2,f=h(n[`${s}History`])):e(2,f={actual:0,potential:0,latency:0})};return o=setInterval(()=>{v()},100),ma(()=>{clearInterval(o)}),a.$$set=u=>{"title"in u&&e(0,r=u.title),"transactor"in u&&e(3,n=u.transactor),"queue"in u&&e(4,s=u.queue),"per"in u&&e(5,i=u.per),"latency"in u&&e(1,l=u.latency)},[r,l,f,n,s,i]}class ae extends pt{constructor(t){super(),_t(this,t,_r,pr,gt,{title:0,transactor:3,queue:4,per:5,latency:1})}}function br(a){let t,e,r,n,s,i,l,h;return l=new Ft({props:{color:"danger",format:a[3],max:1,value:a[1]}}),{c(){t=b("div"),e=b("div"),r=q(a[0]),n=D(),s=b("div"),i=q(`5 seconds:
		`),K(l.$$.fragment),this.h()},l(o){t=$(o,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0});var v=y(e);r=j(v,a[0]),v.forEach(d),n=E(f),s=$(f,"DIV",{class:!0});var u=y(s);i=j(u,`5 seconds:
		`),X(l.$$.fragment,u),u.forEach(d),f.forEach(d),this.h()},h(){m(e,"class","card-header text-center"),m(s,"class","card-body"),m(t,"class","card")},m(o,f){M(o,t,f),c(t,e),c(e,r),c(t,n),c(t,s),c(s,i),J(l,s,null),h=!0},p(o,[f]){(!h||f&1)&&st(r,o[0]);const v={};f&2&&(v.value=o[1]),l.$set(v)},i(o){h||(C(l.$$.fragment,o),h=!0)},o(o){A(l.$$.fragment,o),h=!1},d(o){o&&d(t),Y(l)}}}function $r(a,t,e){let{title:r="Utilization"}=t,{transactor:n}=t;const s=f=>{let v=f.length-1;const u=f[v].startedAt.performance,g=f[0].startedAt.performance,p=Math.min(5e3,u-g),T=[];for(;v>=0;){const I=f[v];if(u-I.finishedAt.performance>p)break;T.push(I),v--}return T.reduce((I,w)=>I+w.transaction.stats.total,0)/p};let i,l=0;const h=()=>{n.transactionHistory.length>0&&e(1,l=s(n.transactionHistory))};i=setInterval(()=>{h()},100),ma(()=>{clearInterval(i)});const o=f=>`${mt.percent(f,0,0)}`;return a.$$set=f=>{"title"in f&&e(0,r=f.title),"transactor"in f&&e(2,n=f.transactor)},[r,l,n,o]}class yr extends pt{constructor(t){super(),_t(this,t,$r,br,gt,{title:0,transactor:2})}}function wr(a){let t,e,r,n,s,i,l,h,o;return{c(){t=b("div"),e=b("input"),n=D(),s=b("label"),i=q(a[2]),this.h()},l(f){t=$(f,"DIV",{class:!0});var v=y(t);e=$(v,"INPUT",{class:!0,type:!0,id:!0}),n=E(v),s=$(v,"LABEL",{class:!0,for:!0});var u=y(s);i=j(u,a[2]),u.forEach(d),v.forEach(d),this.h()},h(){m(e,"class","form-check-input"),m(e,"type","checkbox"),m(e,"id",r=`check-${a[0].id}`),m(s,"class","form-check-label"),m(s,"for",l=`check-${a[0].id}`),m(t,"class","form-check")},m(f,v){M(f,t,v),c(t,e),e.checked=a[1],c(t,n),c(t,s),c(s,i),h||(o=Gt(e,"change",a[3]),h=!0)},p(f,[v]){v&1&&r!==(r=`check-${f[0].id}`)&&m(e,"id",r),v&2&&(e.checked=f[1]),v&1&&l!==(l=`check-${f[0].id}`)&&m(s,"for",l)},i:vt,o:vt,d(f){f&&d(t),h=!1,o()}}}function Dr(a,t,e){let{check:r}=t,{enabled:n,label:s}=r;function i(){n=this.checked,e(1,n)}return a.$$set=l=>{"check"in l&&e(0,r=l.check)},a.$$.update=()=>{a.$$.dirty&2&&e(0,r.enabled=n,r)},[r,n,s,i]}class Qe extends pt{constructor(t){super(),_t(this,t,Dr,wr,gt,{check:0})}}function Ge(a){let t,e,r,n;return r=new Yt({props:{label:"Valcache (NVMe SSD) Hit Ratio",format:a[2],step:.05,range:a[0].storageLayers.valcache.hitRatio}}),{c(){t=b("br"),e=D(),K(r.$$.fragment)},l(s){t=$(s,"BR",{}),e=E(s),X(r.$$.fragment,s)},m(s,i){M(s,t,i),M(s,e,i),J(r,s,i),n=!0},p(s,i){const l={};i&1&&(l.range=s[0].storageLayers.valcache.hitRatio),r.$set(l)},i(s){n||(C(r.$$.fragment,s),n=!0)},o(s){A(r.$$.fragment,s),n=!1},d(s){s&&(d(t),d(e)),Y(r,s)}}}function Ke(a){let t,e,r,n;return r=new Yt({props:{label:"Memcached (RAM) Hit Ratio",format:a[3],step:.05,range:a[0].storageLayers.memcached.hitRatio}}),{c(){t=b("br"),e=D(),K(r.$$.fragment)},l(s){t=$(s,"BR",{}),e=E(s),X(r.$$.fragment,s)},m(s,i){M(s,t,i),M(s,e,i),J(r,s,i),n=!0},p(s,i){const l={};i&1&&(l.range=s[0].storageLayers.memcached.hitRatio),r.$set(l)},i(s){n||(C(r.$$.fragment,s),n=!0)},o(s){A(r.$$.fragment,s),n=!1},d(s){s&&(d(t),d(e)),Y(r,s)}}}function Er(a){let t,e,r,n,s,i=a[0].id+"",l,h,o,f,v,u,g,p,T,S,I,w,k,V,B,Z;u=new Qe({props:{check:a[0].storageLayers.valcache}}),T=new Qe({props:{check:a[0].storageLayers.memcached}}),k=new Yt({props:{label:"Object Cache (RAM) Hit Ratio",format:a[1],step:.05,range:a[0].storageLayers.objectcache.hitRatio}});let L=a[0].storageLayers.valcache.enabled&&Ge(a),N=a[0].storageLayers.memcached.enabled&&Ke(a);return{c(){t=b("div"),e=b("div"),r=q(`Caching Layers
		`),n=b("div"),s=b("code"),l=q(i),h=D(),o=b("div"),f=b("div"),v=b("div"),K(u.$$.fragment),g=D(),p=b("div"),K(T.$$.fragment),S=D(),I=b("br"),w=D(),K(k.$$.fragment),V=D(),L&&L.c(),B=D(),N&&N.c(),this.h()},l(H){t=$(H,"DIV",{class:!0});var W=y(t);e=$(W,"DIV",{class:!0});var U=y(e);r=j(U,`Caching Layers
		`),n=$(U,"DIV",{class:!0});var z=y(n);s=$(z,"CODE",{});var Q=y(s);l=j(Q,i),Q.forEach(d),z.forEach(d),U.forEach(d),h=E(W),o=$(W,"DIV",{class:!0});var _=y(o);f=$(_,"DIV",{class:!0});var P=y(f);v=$(P,"DIV",{class:!0});var bt=y(v);X(u.$$.fragment,bt),bt.forEach(d),g=E(P),p=$(P,"DIV",{class:!0});var tt=y(p);X(T.$$.fragment,tt),tt.forEach(d),P.forEach(d),S=E(_),I=$(_,"BR",{}),w=E(_),X(k.$$.fragment,_),V=E(_),L&&L.l(_),B=E(_),N&&N.l(_),_.forEach(d),W.forEach(d),this.h()},h(){m(n,"class","float-end"),m(e,"class","card-header"),m(v,"class","col"),m(p,"class","col"),m(f,"class","row"),m(o,"class","card-body"),m(t,"class","card")},m(H,W){M(H,t,W),c(t,e),c(e,r),c(e,n),c(n,s),c(s,l),c(t,h),c(t,o),c(o,f),c(f,v),J(u,v,null),c(f,g),c(f,p),J(T,p,null),c(o,S),c(o,I),c(o,w),J(k,o,null),c(o,V),L&&L.m(o,null),c(o,B),N&&N.m(o,null),Z=!0},p(H,[W]){(!Z||W&1)&&i!==(i=H[0].id+"")&&st(l,i);const U={};W&1&&(U.check=H[0].storageLayers.valcache),u.$set(U);const z={};W&1&&(z.check=H[0].storageLayers.memcached),T.$set(z);const Q={};W&1&&(Q.range=H[0].storageLayers.objectcache.hitRatio),k.$set(Q),H[0].storageLayers.valcache.enabled?L?(L.p(H,W),W&1&&C(L,1)):(L=Ge(H),L.c(),C(L,1),L.m(o,B)):L&&(Ot(),A(L,1,1,()=>{L=null}),Ut()),H[0].storageLayers.memcached.enabled?N?(N.p(H,W),W&1&&C(N,1)):(N=Ke(H),N.c(),C(N,1),N.m(o,null)):N&&(Ot(),A(N,1,1,()=>{N=null}),Ut())},i(H){Z||(C(u.$$.fragment,H),C(T.$$.fragment,H),C(k.$$.fragment,H),C(L),C(N),Z=!0)},o(H){A(u.$$.fragment,H),A(T.$$.fragment,H),A(k.$$.fragment,H),A(L),A(N),Z=!1},d(H){H&&d(t),Y(u),Y(T),Y(k),L&&L.d(),N&&N.d()}}}function kr(a,t,e){let{transactor:r}=t;const n=l=>`${mt.percent(l,0,0)}`,s=l=>`${mt.percent(l,0,0)}`,i=l=>`${mt.percent(l,0,0)}`;return a.$$set=l=>{"transactor"in l&&e(0,r=l.transactor)},[r,n,s,i]}class Sr extends pt{constructor(t){super(),_t(this,t,kr,Er,gt,{transactor:0})}}function Tr(a){let t,e,r,n,s,i=a[0].id+"",l,h,o,f,v,u,g,p,T;return f=new Yt({props:{label:"Probe Threads (CPU Cores)",format:a[1],range:a[0].prefetch.probe}}),p=new Yt({props:{label:"Tracing Threads (CPU Cores)",format:a[2],range:a[0].prefetch.tracing}}),{c(){t=b("div"),e=b("div"),r=q(`Prefetch
		`),n=b("div"),s=b("code"),l=q(i),h=D(),o=b("div"),K(f.$$.fragment),v=D(),u=b("br"),g=D(),K(p.$$.fragment),this.h()},l(S){t=$(S,"DIV",{class:!0});var I=y(t);e=$(I,"DIV",{class:!0});var w=y(e);r=j(w,`Prefetch
		`),n=$(w,"DIV",{class:!0});var k=y(n);s=$(k,"CODE",{});var V=y(s);l=j(V,i),V.forEach(d),k.forEach(d),w.forEach(d),h=E(I),o=$(I,"DIV",{class:!0});var B=y(o);X(f.$$.fragment,B),v=E(B),u=$(B,"BR",{}),g=E(B),X(p.$$.fragment,B),B.forEach(d),I.forEach(d),this.h()},h(){m(n,"class","float-end"),m(e,"class","card-header"),m(o,"class","card-body"),m(t,"class","card")},m(S,I){M(S,t,I),c(t,e),c(e,r),c(e,n),c(n,s),c(s,l),c(t,h),c(t,o),J(f,o,null),c(o,v),c(o,u),c(o,g),J(p,o,null),T=!0},p(S,[I]){(!T||I&1)&&i!==(i=S[0].id+"")&&st(l,i);const w={};I&1&&(w.range=S[0].prefetch.probe),f.$set(w);const k={};I&1&&(k.range=S[0].prefetch.tracing),p.$set(k)},i(S){T||(C(f.$$.fragment,S),C(p.$$.fragment,S),T=!0)},o(S){A(f.$$.fragment,S),A(p.$$.fragment,S),T=!1},d(S){S&&d(t),Y(f),Y(p)}}}function Ir(a,t,e){let{transactor:r}=t;const n=i=>`${Intl.NumberFormat("en-US").format(i)}`,s=i=>`${Intl.NumberFormat("en-US").format(i)}`;return a.$$set=i=>{"transactor"in i&&e(0,r=i.transactor)},[r,n,s]}class Rr extends pt{constructor(t){super(),_t(this,t,Ir,Tr,gt,{transactor:0})}}function Xe(a,t,e){const r=a.slice();return r[4]=t[e],r}function Pr(a){let t,e="Tracing Prefetch Queue";return{c(){t=b("code"),t.textContent=e},l(r){t=$(r,"CODE",{"data-svelte-h":!0}),ht(t)!=="svelte-15dur7i"&&(t.textContent=e)},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function Mr(a){let t,e="Transaction Queue";return{c(){t=b("code"),t.textContent=e},l(r){t=$(r,"CODE",{"data-svelte-h":!0}),ht(t)!=="svelte-vd6gen"&&(t.textContent=e)},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function Cr(a){let t;return{c(){t=q("Segments")},l(e){t=j(e,"Segments")},m(e,r){M(e,t,r)},d(e){e&&d(t)}}}function Lr(a){let t;return{c(){t=q("Transactions")},l(e){t=j(e,"Transactions")},m(e,r){M(e,t,r)},d(e){e&&d(t)}}}function Je(a){let t,e,r,n,s,i,l,h,o,f,v,u,g,p,T,S,I,w,k,V,B,Z,L,N,H,W;e=new Ft({props:{color:"danger",format:Ar,value:a[0][`${a[1]}History`].slice(-ne).reduce(sa,0)/ne}});let U=a[1]==="transaction"&&Ye(a);o=new Ft({props:{color:"success",min:.6,max:Jt,format:Br,value:a[2](a[0][`${a[1]}History`],"objectcache"),hits:a[3](a[0][`${a[1]}History`],"objectcache")}}),g=new Ft({props:{color:"info",min:.6,max:Jt,format:qr,value:a[2](a[0][`${a[1]}History`],"valcache"),hits:a[3](a[0][`${a[1]}History`],"valcache")}}),I=new Ft({props:{color:"warning",min:.6,max:Jt,format:jr,value:a[2](a[0][`${a[1]}History`],"memcached"),hits:a[3](a[0][`${a[1]}History`],"memcached")}}),B=new Ft({props:{color:"danger",min:.6,max:Jt,format:Or,value:a[2](a[0][`${a[1]}History`],"storageRead"),hits:a[3](a[0][`${a[1]}History`],"storageRead")}});let z=a[1]==="transaction"&&Ze(a),Q=a[1]==="transaction"&&xe(a);return{c(){t=q(`Latency:
			`),K(e.$$.fragment),r=D(),n=b("hr"),s=D(),U&&U.c(),i=D(),l=b("br"),h=q(`
			Object Cache:
			`),K(o.$$.fragment),f=D(),v=b("br"),u=q(`

			Valcache:
			`),K(g.$$.fragment),p=D(),T=b("br"),S=q(`
			Memcached:
			`),K(I.$$.fragment),w=D(),k=b("br"),V=q(`
			DynamoDB (Read):
			`),K(B.$$.fragment),Z=D(),z&&z.c(),L=D(),Q&&Q.c(),N=D(),H=b("br"),this.h()},l(_){t=j(_,`Latency:
			`),X(e.$$.fragment,_),r=E(_),n=$(_,"HR",{class:!0}),s=E(_),U&&U.l(_),i=E(_),l=$(_,"BR",{}),h=j(_,`
			Object Cache:
			`),X(o.$$.fragment,_),f=E(_),v=$(_,"BR",{}),u=j(_,`

			Valcache:
			`),X(g.$$.fragment,_),p=E(_),T=$(_,"BR",{}),S=j(_,`
			Memcached:
			`),X(I.$$.fragment,_),w=E(_),k=$(_,"BR",{}),V=j(_,`
			DynamoDB (Read):
			`),X(B.$$.fragment,_),Z=E(_),z&&z.l(_),L=E(_),Q&&Q.l(_),N=E(_),H=$(_,"BR",{}),this.h()},h(){m(n,"class","svelte-1esk31j")},m(_,P){M(_,t,P),J(e,_,P),M(_,r,P),M(_,n,P),M(_,s,P),U&&U.m(_,P),M(_,i,P),M(_,l,P),M(_,h,P),J(o,_,P),M(_,f,P),M(_,v,P),M(_,u,P),J(g,_,P),M(_,p,P),M(_,T,P),M(_,S,P),J(I,_,P),M(_,w,P),M(_,k,P),M(_,V,P),J(B,_,P),M(_,Z,P),z&&z.m(_,P),M(_,L,P),Q&&Q.m(_,P),M(_,N,P),M(_,H,P),W=!0},p(_,P){const bt={};P&3&&(bt.value=_[0][`${_[1]}History`].slice(-ne).reduce(sa,0)/ne),e.$set(bt),_[1]==="transaction"?U?(U.p(_,P),P&2&&C(U,1)):(U=Ye(_),U.c(),C(U,1),U.m(i.parentNode,i)):U&&(Ot(),A(U,1,1,()=>{U=null}),Ut());const tt={};P&3&&(tt.value=_[2](_[0][`${_[1]}History`],"objectcache")),P&3&&(tt.hits=_[3](_[0][`${_[1]}History`],"objectcache")),o.$set(tt);const nt={};P&3&&(nt.value=_[2](_[0][`${_[1]}History`],"valcache")),P&3&&(nt.hits=_[3](_[0][`${_[1]}History`],"valcache")),g.$set(nt);const dt={};P&3&&(dt.value=_[2](_[0][`${_[1]}History`],"memcached")),P&3&&(dt.hits=_[3](_[0][`${_[1]}History`],"memcached")),I.$set(dt);const $t={};P&3&&($t.value=_[2](_[0][`${_[1]}History`],"storageRead")),P&3&&($t.hits=_[3](_[0][`${_[1]}History`],"storageRead")),B.$set($t),_[1]==="transaction"?z?(z.p(_,P),P&2&&C(z,1)):(z=Ze(_),z.c(),C(z,1),z.m(L.parentNode,L)):z&&(Ot(),A(z,1,1,()=>{z=null}),Ut()),_[1]==="transaction"?Q?(Q.p(_,P),P&2&&C(Q,1)):(Q=xe(_),Q.c(),C(Q,1),Q.m(N.parentNode,N)):Q&&(Ot(),A(Q,1,1,()=>{Q=null}),Ut())},i(_){W||(C(e.$$.fragment,_),C(U),C(o.$$.fragment,_),C(g.$$.fragment,_),C(I.$$.fragment,_),C(B.$$.fragment,_),C(z),C(Q),W=!0)},o(_){A(e.$$.fragment,_),A(U),A(o.$$.fragment,_),A(g.$$.fragment,_),A(I.$$.fragment,_),A(B.$$.fragment,_),A(z),A(Q),W=!1},d(_){_&&(d(t),d(r),d(n),d(s),d(i),d(l),d(h),d(f),d(v),d(u),d(p),d(T),d(S),d(w),d(k),d(V),d(Z),d(L),d(N),d(H)),Y(e,_),U&&U.d(_),Y(o,_),Y(g,_),Y(I,_),Y(B,_),z&&z.d(_),Q&&Q.d(_)}}}function Ye(a){let t,e,r,n;return r=new Ft({props:{color:"success",min:.6,max:Jt,format:Fr,value:a[2](a[0][`${a[1]}History`],"prefetch"),hits:a[3](a[0][`${a[1]}History`],"prefetch")}}),{c(){t=b("br"),e=q(`
				Object Cache (Prefetched Earlier):
				`),K(r.$$.fragment)},l(s){t=$(s,"BR",{}),e=j(s,`
				Object Cache (Prefetched Earlier):
				`),X(r.$$.fragment,s)},m(s,i){M(s,t,i),M(s,e,i),J(r,s,i),n=!0},p(s,i){const l={};i&3&&(l.value=s[2](s[0][`${s[1]}History`],"prefetch")),i&3&&(l.hits=s[3](s[0][`${s[1]}History`],"prefetch")),r.$set(l)},i(s){n||(C(r.$$.fragment,s),n=!0)},o(s){A(r.$$.fragment,s),n=!1},d(s){s&&(d(t),d(e)),Y(r,s)}}}function Ze(a){let t,e,r,n,s,i;return s=new Ft({props:{color:"info",min:.6,max:Jt,format:Ur,value:a[2](a[0][`${a[1]}History`],"cpuWork","sequentially"),hits:a[3](a[0][`${a[1]}History`],"cpuWork","sequentially")}}),{c(){t=b("hr"),e=D(),r=b("br"),n=q(`
				CPU Work:
				`),K(s.$$.fragment),this.h()},l(l){t=$(l,"HR",{class:!0}),e=E(l),r=$(l,"BR",{}),n=j(l,`
				CPU Work:
				`),X(s.$$.fragment,l),this.h()},h(){m(t,"class","svelte-1esk31j")},m(l,h){M(l,t,h),M(l,e,h),M(l,r,h),M(l,n,h),J(s,l,h),i=!0},p(l,h){const o={};h&3&&(o.value=l[2](l[0][`${l[1]}History`],"cpuWork","sequentially")),h&3&&(o.hits=l[3](l[0][`${l[1]}History`],"cpuWork","sequentially")),s.$set(o)},i(l){i||(C(s.$$.fragment,l),i=!0)},o(l){A(s.$$.fragment,l),i=!1},d(l){l&&(d(t),d(e),d(r),d(n)),Y(s,l)}}}function xe(a){let t,e,r,n,s,i;return s=new Ft({props:{color:"default",min:.6,max:Jt,format:zr,value:a[2](a[0][`${a[1]}History`],"storageWrite"),hits:a[3](a[0][`${a[1]}History`],"storageWrite")}}),{c(){t=b("hr"),e=D(),r=b("br"),n=q(`
				DynamoDB (Write):
				`),K(s.$$.fragment),this.h()},l(l){t=$(l,"HR",{class:!0}),e=E(l),r=$(l,"BR",{}),n=j(l,`
				DynamoDB (Write):
				`),X(s.$$.fragment,l),this.h()},h(){m(t,"class","svelte-1esk31j")},m(l,h){M(l,t,h),M(l,e,h),M(l,r,h),M(l,n,h),J(s,l,h),i=!0},p(l,h){const o={};h&3&&(o.value=l[2](l[0][`${l[1]}History`],"storageWrite")),h&3&&(o.hits=l[3](l[0][`${l[1]}History`],"storageWrite")),s.$set(o)},i(l){i||(C(s.$$.fragment,l),i=!0)},o(l){A(s.$$.fragment,l),i=!1},d(l){l&&(d(t),d(e),d(r),d(n)),Y(s,l)}}}function Hr(a){let t,e="Segment";return{c(){t=b("th"),t.textContent=e,this.h()},l(r){t=$(r,"TH",{class:!0,scope:!0,"data-svelte-h":!0}),ht(t)!=="svelte-1z017s"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"scope","col")},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function Vr(a){let t,e="Transaction";return{c(){t=b("th"),t.textContent=e,this.h()},l(r){t=$(r,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(t)!=="svelte-596dsb"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"width","1"),m(t,"scope","col")},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function ta(a){let t,e="Seg.";return{c(){t=b("th"),t.textContent=e,this.h()},l(r){t=$(r,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(t)!=="svelte-jyviti"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"width","1"),m(t,"scope","col")},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function ea(a){let t,e="pF";return{c(){t=b("th"),t.textContent=e,this.h()},l(r){t=$(r,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(t)!=="svelte-1lkqkmh"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"width","1"),m(t,"scope","col")},m(r,n){M(r,t,n)},d(r){r&&d(t)}}}function aa(a){let t,e=a[4].transaction.segments.length+"",r;return{c(){t=b("td"),r=q(e),this.h()},l(n){t=$(n,"TD",{class:!0});var s=y(t);r=j(s,e),s.forEach(d),this.h()},h(){m(t,"class","text-center")},m(n,s){M(n,t,s),c(t,r)},p(n,s){s&3&&e!==(e=n[4].transaction.segments.length+"")&&st(r,e)},d(n){n&&d(t)}}}function ra(a){let t,e=a[4].transaction.stats.io.prefetch.toFixed(5)+"",r,n;return{c(){t=b("td"),r=q(e),n=q("ms"),this.h()},l(s){t=$(s,"TD",{class:!0});var i=y(t);r=j(i,e),n=j(i,"ms"),i.forEach(d),this.h()},h(){m(t,"class","text-center")},m(s,i){M(s,t,i),c(t,r),c(t,n)},p(s,i){i&3&&e!==(e=s[4].transaction.stats.io.prefetch.toFixed(5)+"")&&st(r,e)},d(s){s&&d(t)}}}function na(a,t){let e,r,n,s=t[4].transaction.id.substring(0,12)+"",i,l,h,o,f=Te.formatDateTime(t[4].startedAt.time)+"",v,u,g,p,T=t[4].transaction.stats.total.toFixed(2)+"",S,I,w,k,V,B=t[4].transaction.stats.io.objectcache.toFixed(5)+"",Z,L,N,H,W=t[4].transaction.stats.io.valcache.toFixed(3)+"",U,z,Q,_,P=t[4].transaction.stats.io.memcached.toFixed(2)+"",bt,tt,nt,dt,$t=t[4].transaction.stats.io.storageRead.toFixed(2)+"",yt,Et,Vt,at=t[1]==="transaction"&&aa(t),et=t[1]==="transaction"&&ra(t);return{key:a,first:null,c(){e=b("tr"),r=b("th"),n=b("code"),i=q(s),l=q("..."),h=D(),o=b("td"),v=q(f),u=D(),at&&at.c(),g=D(),p=b("td"),S=q(T),I=q("ms"),w=D(),et&&et.c(),k=D(),V=b("td"),Z=q(B),L=q("ms"),N=D(),H=b("td"),U=q(W),z=q("ms"),Q=D(),_=b("td"),bt=q(P),tt=q("ms"),nt=D(),dt=b("td"),yt=q($t),Et=q("ms"),Vt=D(),this.h()},l(ut){e=$(ut,"TR",{});var G=y(e);r=$(G,"TH",{scope:!0,class:!0});var qt=y(r);n=$(qt,"CODE",{});var Lt=y(n);i=j(Lt,s),l=j(Lt,"..."),Lt.forEach(d),qt.forEach(d),h=E(G),o=$(G,"TD",{class:!0});var ct=y(o);v=j(ct,f),ct.forEach(d),u=E(G),at&&at.l(G),g=E(G),p=$(G,"TD",{class:!0});var Bt=y(p);S=j(Bt,T),I=j(Bt,"ms"),Bt.forEach(d),w=E(G),et&&et.l(G),k=E(G),V=$(G,"TD",{class:!0});var Ht=y(V);Z=j(Ht,B),L=j(Ht,"ms"),Ht.forEach(d),N=E(G),H=$(G,"TD",{class:!0});var wt=y(H);U=j(wt,W),z=j(wt,"ms"),wt.forEach(d),Q=E(G),_=$(G,"TD",{class:!0});var x=y(_);bt=j(x,P),tt=j(x,"ms"),x.forEach(d),nt=E(G),dt=$(G,"TD",{class:!0});var It=y(dt);yt=j(It,$t),Et=j(It,"ms"),It.forEach(d),Vt=E(G),G.forEach(d),this.h()},h(){m(r,"scope","row"),m(r,"class","text-center"),m(o,"class","text-center"),m(p,"class","text-center"),m(V,"class","text-center"),m(H,"class","text-center"),m(_,"class","text-center"),m(dt,"class","text-center"),this.first=e},m(ut,G){M(ut,e,G),c(e,r),c(r,n),c(n,i),c(n,l),c(e,h),c(e,o),c(o,v),c(e,u),at&&at.m(e,null),c(e,g),c(e,p),c(p,S),c(p,I),c(e,w),et&&et.m(e,null),c(e,k),c(e,V),c(V,Z),c(V,L),c(e,N),c(e,H),c(H,U),c(H,z),c(e,Q),c(e,_),c(_,bt),c(_,tt),c(e,nt),c(e,dt),c(dt,yt),c(dt,Et),c(e,Vt)},p(ut,G){t=ut,G&3&&s!==(s=t[4].transaction.id.substring(0,12)+"")&&st(i,s),G&3&&f!==(f=Te.formatDateTime(t[4].startedAt.time)+"")&&st(v,f),t[1]==="transaction"?at?at.p(t,G):(at=aa(t),at.c(),at.m(e,g)):at&&(at.d(1),at=null),G&3&&T!==(T=t[4].transaction.stats.total.toFixed(2)+"")&&st(S,T),t[1]==="transaction"?et?et.p(t,G):(et=ra(t),et.c(),et.m(e,k)):et&&(et.d(1),et=null),G&3&&B!==(B=t[4].transaction.stats.io.objectcache.toFixed(5)+"")&&st(Z,B),G&3&&W!==(W=t[4].transaction.stats.io.valcache.toFixed(3)+"")&&st(U,W),G&3&&P!==(P=t[4].transaction.stats.io.memcached.toFixed(2)+"")&&st(bt,P),G&3&&$t!==($t=t[4].transaction.stats.io.storageRead.toFixed(2)+"")&&st(yt,$t)},d(ut){ut&&d(e),at&&at.d(),et&&et.d()}}}function Nr(a){let t,e,r,n,s,i=mt.shortNumber(a[0][`${a[1]}HistorySize`])+"",l,h,o,f,v=a[0].id+"",u,g,p,T,S,I,w,k,V,B="At",Z,L,N,H="I/O",W,U,z,Q="oC",_,P,bt="vC",tt,nt,dt="mC",$t,yt,Et="DDB",Vt,at,et=[],ut=new Map,G;function qt(O,rt){return O[1]==="transaction"?Mr:Pr}let Lt=qt(a),ct=Lt(a);function Bt(O,rt){return O[1]==="transaction"?Lr:Cr}let Ht=Bt(a),wt=Ht(a),x=a[0][`${a[1]}History`].length>0&&Je(a);function It(O,rt){return O[1]==="transaction"?Vr:Hr}let Rt=It(a),Pt=Rt(a),ot=a[1]==="transaction"&&ta(),lt=a[1]==="transaction"&&ea(),zt=Se(a[0][`${a[1]}History`].slice(-4));const jt=O=>O[4].transaction.id;for(let O=0;O<zt.length;O+=1){let rt=Xe(a,zt,O),ft=jt(rt);ut.set(ft,et[O]=na(ft,rt))}return{c(){t=b("div"),e=b("div"),r=q(`Transactor |
		`),ct.c(),n=D(),s=b("div"),l=q(i),h=D(),wt.c(),o=q(`
			|
			`),f=b("code"),u=q(v),g=D(),p=b("div"),x&&x.c(),T=D(),S=b("table"),I=b("thead"),w=b("tr"),Pt.c(),k=D(),V=b("th"),V.textContent=B,Z=D(),ot&&ot.c(),L=D(),N=b("th"),N.textContent=H,W=D(),lt&&lt.c(),U=D(),z=b("th"),z.textContent=Q,_=D(),P=b("th"),P.textContent=bt,tt=D(),nt=b("th"),nt.textContent=dt,$t=D(),yt=b("th"),yt.textContent=Et,Vt=D(),at=b("tbody");for(let O=0;O<et.length;O+=1)et[O].c();this.h()},l(O){t=$(O,"DIV",{class:!0});var rt=y(t);e=$(rt,"DIV",{class:!0});var ft=y(e);r=j(ft,`Transactor |
		`),ct.l(ft),n=E(ft),s=$(ft,"DIV",{class:!0});var kt=y(s);l=j(kt,i),h=E(kt),wt.l(kt),o=j(kt,`
			|
			`),f=$(kt,"CODE",{});var Zt=y(f);u=j(Zt,v),Zt.forEach(d),kt.forEach(d),ft.forEach(d),g=E(rt),p=$(rt,"DIV",{class:!0});var Nt=y(p);x&&x.l(Nt),T=E(Nt),S=$(Nt,"TABLE",{class:!0});var Mt=y(S);I=$(Mt,"THEAD",{});var xt=y(I);w=$(xt,"TR",{});var it=y(w);Pt.l(it),k=E(it),V=$(it,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(V)!=="svelte-o8lu9e"&&(V.textContent=B),Z=E(it),ot&&ot.l(it),L=E(it),N=$(it,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(N)!=="svelte-tonrsj"&&(N.textContent=H),W=E(it),lt&&lt.l(it),U=E(it),z=$(it,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(z)!=="svelte-1cz79sh"&&(z.textContent=Q),_=E(it),P=$(it,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(P)!=="svelte-std2k4"&&(P.textContent=bt),tt=E(it),nt=$(it,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),ht(nt)!=="svelte-1q771xf"&&(nt.textContent=dt),$t=E(it),yt=$(it,"TH",{class:!0,scope:!0,"data-svelte-h":!0}),ht(yt)!=="svelte-1w6qb9"&&(yt.textContent=Et),it.forEach(d),xt.forEach(d),Vt=E(Mt),at=$(Mt,"TBODY",{});var At=y(at);for(let Kt=0;Kt<et.length;Kt+=1)et[Kt].l(At);At.forEach(d),Mt.forEach(d),Nt.forEach(d),rt.forEach(d),this.h()},h(){m(s,"class","float-end"),m(e,"class","card-header"),m(V,"class","text-center"),m(V,"width","1"),m(V,"scope","col"),m(N,"class","text-center"),m(N,"width","80"),m(N,"scope","col"),m(z,"class","text-center"),m(z,"width","1"),m(z,"scope","col"),m(P,"class","text-center"),m(P,"width","1"),m(P,"scope","col"),m(nt,"class","text-center"),m(nt,"width","1"),m(nt,"scope","col"),m(yt,"class","text-center"),m(yt,"scope","col"),m(S,"class","table"),m(p,"class","card-body"),m(t,"class","card")},m(O,rt){M(O,t,rt),c(t,e),c(e,r),ct.m(e,null),c(e,n),c(e,s),c(s,l),c(s,h),wt.m(s,null),c(s,o),c(s,f),c(f,u),c(t,g),c(t,p),x&&x.m(p,null),c(p,T),c(p,S),c(S,I),c(I,w),Pt.m(w,null),c(w,k),c(w,V),c(w,Z),ot&&ot.m(w,null),c(w,L),c(w,N),c(w,W),lt&&lt.m(w,null),c(w,U),c(w,z),c(w,_),c(w,P),c(w,tt),c(w,nt),c(w,$t),c(w,yt),c(S,Vt),c(S,at);for(let ft=0;ft<et.length;ft+=1)et[ft]&&et[ft].m(at,null);G=!0},p(O,[rt]){Lt!==(Lt=qt(O))&&(ct.d(1),ct=Lt(O),ct&&(ct.c(),ct.m(e,n))),(!G||rt&3)&&i!==(i=mt.shortNumber(O[0][`${O[1]}HistorySize`])+"")&&st(l,i),Ht!==(Ht=Bt(O))&&(wt.d(1),wt=Ht(O),wt&&(wt.c(),wt.m(s,o))),(!G||rt&1)&&v!==(v=O[0].id+"")&&st(u,v),O[0][`${O[1]}History`].length>0?x?(x.p(O,rt),rt&3&&C(x,1)):(x=Je(O),x.c(),C(x,1),x.m(p,T)):x&&(Ot(),A(x,1,1,()=>{x=null}),Ut()),Rt!==(Rt=It(O))&&(Pt.d(1),Pt=Rt(O),Pt&&(Pt.c(),Pt.m(w,k))),O[1]==="transaction"?ot||(ot=ta(),ot.c(),ot.m(w,L)):ot&&(ot.d(1),ot=null),O[1]==="transaction"?lt||(lt=ea(),lt.c(),lt.m(w,U)):lt&&(lt.d(1),lt=null),rt&3&&(zt=Se(O[0][`${O[1]}History`].slice(-4)),et=va(et,rt,jt,1,O,zt,ut,at,Na,na,null,Xe))},i(O){G||(C(x),G=!0)},o(O){A(x),G=!1},d(O){O&&d(t),ct.d(),wt.d(),x&&x.d(),Pt.d(),ot&&ot.d(),lt&&lt.d();for(let rt=0;rt<et.length;rt+=1)et[rt].d()}}}const ne=30,Jt=7,Ar=a=>`${a.toFixed(2)}ms`,sa=(a,t)=>a+t.transaction.stats.total,Fr=a=>`${a.toFixed(5)}ms`,Br=a=>`${a.toFixed(5)}ms`,qr=a=>`${a.toFixed(3)}ms`,jr=a=>`${a.toFixed(2)}ms`,Or=a=>`${a.toFixed(2)}ms`,Ur=a=>`${a.toFixed(5)}ms`,zr=a=>`${a.toFixed(2)}ms`;function Wr(a,t,e){let{transactor:r}=t,{queue:n}=t;const s=(l,h,o)=>{const f=o===void 0?"io":o,v=l.slice(-ne).filter(g=>g.transaction.stats[f][h]>0);return v.length===0?0:v.reduce((g,p)=>g+p.transaction.stats[f][h],0)/v.length},i=(l,h,o)=>{const f=o===void 0?"io":o;return l.slice(-ne).reduce((g,p)=>g+(p.transaction.stats[f][h]>0?1:0),0)};return a.$$set=l=>{"transactor"in l&&e(0,r=l.transactor),"queue"in l&&e(1,n=l.queue)},[r,n,s,i]}class ia extends pt{constructor(t){super(),_t(this,t,Wr,Nr,gt,{transactor:0,queue:1})}}function la(a,t,e){const r=a.slice();return r[4]=t[e],r}function oa(a,t){let e,r,n,s;return r=new or({props:{peer:t[4]}}),{key:a,first:null,c(){e=b("div"),K(r.$$.fragment),n=D(),this.h()},l(i){e=$(i,"DIV",{class:!0});var l=y(e);X(r.$$.fragment,l),n=E(l),l.forEach(d),this.h()},h(){m(e,"class","col"),this.first=e},m(i,l){M(i,e,l),J(r,e,null),c(e,n),s=!0},p(i,l){t=i;const h={};l&4&&(h.peer=t[4]),r.$set(h)},i(i){s||(C(r.$$.fragment,i),s=!0)},o(i){A(r.$$.fragment,i),s=!1},d(i){i&&d(e),Y(r)}}}function Qr(a){let t,e,r=[],n=new Map,s,i,l,h,o,f,v,u,g,p,T,S,I,w,k,V,B,Z,L,N,H,W,U,z,Q,_,P,bt,tt,nt,dt,$t,yt,Et,Vt,at,et,ut,G,qt,Lt,ct,Bt,Ht,wt,x,It,Rt,Pt,ot,lt,zt,jt,O,rt,ft,kt,Zt,Nt,Mt,xt,it,At,Kt,Ie,Re,Wt,te,Qt,Pe,se,ye,ie=Se(a[2].peers);const Oe=R=>R[4].id;for(let R=0;R<ie.length;R+=1){let F=la(a,ie,R),Ct=Oe(F);n.set(Ct,r[R]=oa(Ct,F))}return f=new Ce({props:{title:"Transactor",queue:"transaction",transactor:a[2].transactor}}),g=new yr({props:{transactor:a[2].transactor}}),S=new ae({props:{queue:"transaction",title:"Latency",latency:!0,transactor:a[2].transactor}}),k=new ae({props:{queue:"transaction",title:"TPS",per:"second",transactor:a[2].transactor}}),Z=new ae({props:{queue:"transaction",title:"TPM",per:"minute",transactor:a[2].transactor}}),H=new Ka({props:{clock:a[2].clock,stats:a[1]}}),P=new ia({props:{queue:"transaction",transactor:a[2].transactor}}),nt=new tr({props:{system:a[0]}}),Et=new rr({props:{system:a[0]}}),ut=new Rr({props:{transactor:a[2].transactor}}),ct=new Sr({props:{transactor:a[2].transactor}}),Rt=new Ce({props:{title:"Tracing Prefetch",queue:"prefetch",transactor:a[2].transactor}}),lt=new Ce({props:{title:"Prefetched Segments",memory:!0,queue:"prefetch",transactor:a[2].transactor}}),O=new Ya({props:{threads:parseInt(a[2].transactor.prefetch.tracing.value,10)}}),kt=new ae({props:{queue:"prefetchLight",title:"Latency / Thread",latency:!0,transactor:a[2].transactor}}),Mt=new ae({props:{queue:"prefetch",title:"SPS",per:"second",transactor:a[2].transactor}}),At=new ae({props:{queue:"prefetch",title:"SPM",per:"minute",transactor:a[2].transactor}}),Qt=new ia({props:{queue:"prefetchLight",transactor:a[2].transactor}}),{c(){t=b("div"),e=b("div");for(let R=0;R<r.length;R+=1)r[R].c();s=D(),i=b("br"),l=D(),h=b("div"),o=b("div"),K(f.$$.fragment),v=D(),u=b("div"),K(g.$$.fragment),p=D(),T=b("div"),K(S.$$.fragment),I=D(),w=b("div"),K(k.$$.fragment),V=D(),B=b("div"),K(Z.$$.fragment),L=D(),N=b("div"),K(H.$$.fragment),W=D(),U=b("br"),z=D(),Q=b("div"),_=b("div"),K(P.$$.fragment),bt=D(),tt=b("div"),K(nt.$$.fragment),dt=D(),$t=b("br"),yt=D(),K(Et.$$.fragment),Vt=D(),at=b("br"),et=D(),K(ut.$$.fragment),G=D(),qt=b("br"),Lt=D(),K(ct.$$.fragment),Bt=D(),Ht=b("br"),wt=D(),x=b("div"),It=b("div"),K(Rt.$$.fragment),Pt=D(),ot=b("div"),K(lt.$$.fragment),zt=D(),jt=b("div"),K(O.$$.fragment),rt=D(),ft=b("div"),K(kt.$$.fragment),Zt=D(),Nt=b("div"),K(Mt.$$.fragment),xt=D(),it=b("div"),K(At.$$.fragment),Kt=D(),Ie=b("br"),Re=D(),Wt=b("div"),te=b("div"),K(Qt.$$.fragment),Pe=D(),se=b("div"),this.h()},l(R){t=$(R,"DIV",{});var F=y(t);e=$(F,"DIV",{class:!0});var Ct=y(e);for(let Me=0;Me<r.length;Me+=1)r[Me].l(Ct);Ct.forEach(d),s=E(F),i=$(F,"BR",{}),l=E(F),h=$(F,"DIV",{class:!0});var St=y(h);o=$(St,"DIV",{class:!0});var le=y(o);X(f.$$.fragment,le),le.forEach(d),v=E(St),u=$(St,"DIV",{class:!0});var oe=y(u);X(g.$$.fragment,oe),oe.forEach(d),p=E(St),T=$(St,"DIV",{class:!0});var ce=y(T);X(S.$$.fragment,ce),ce.forEach(d),I=E(St),w=$(St,"DIV",{class:!0});var ee=y(w);X(k.$$.fragment,ee),ee.forEach(d),V=E(St),B=$(St,"DIV",{class:!0});var fe=y(B);X(Z.$$.fragment,fe),fe.forEach(d),L=E(St),N=$(St,"DIV",{class:!0});var ue=y(N);X(H.$$.fragment,ue),ue.forEach(d),St.forEach(d),W=E(F),U=$(F,"BR",{}),z=E(F),Q=$(F,"DIV",{class:!0});var Xt=y(Q);_=$(Xt,"DIV",{class:!0});var he=y(_);X(P.$$.fragment,he),he.forEach(d),bt=E(Xt),tt=$(Xt,"DIV",{class:!0});var Dt=y(tt);X(nt.$$.fragment,Dt),dt=E(Dt),$t=$(Dt,"BR",{}),yt=E(Dt),X(Et.$$.fragment,Dt),Vt=E(Dt),at=$(Dt,"BR",{}),et=E(Dt),X(ut.$$.fragment,Dt),G=E(Dt),qt=$(Dt,"BR",{}),Lt=E(Dt),X(ct.$$.fragment,Dt),Dt.forEach(d),Xt.forEach(d),Bt=E(F),Ht=$(F,"BR",{}),wt=E(F),x=$(F,"DIV",{class:!0});var Tt=y(x);It=$(Tt,"DIV",{class:!0});var de=y(It);X(Rt.$$.fragment,de),de.forEach(d),Pt=E(Tt),ot=$(Tt,"DIV",{class:!0});var me=y(ot);X(lt.$$.fragment,me),me.forEach(d),zt=E(Tt),jt=$(Tt,"DIV",{class:!0});var ve=y(jt);X(O.$$.fragment,ve),ve.forEach(d),rt=E(Tt),ft=$(Tt,"DIV",{class:!0});var ge=y(ft);X(kt.$$.fragment,ge),ge.forEach(d),Zt=E(Tt),Nt=$(Tt,"DIV",{class:!0});var pe=y(Nt);X(Mt.$$.fragment,pe),pe.forEach(d),xt=E(Tt),it=$(Tt,"DIV",{class:!0});var _e=y(it);X(At.$$.fragment,_e),_e.forEach(d),Tt.forEach(d),Kt=E(F),Ie=$(F,"BR",{}),Re=E(F),Wt=$(F,"DIV",{class:!0});var we=y(Wt);te=$(we,"DIV",{class:!0});var Ue=y(te);X(Qt.$$.fragment,Ue),Ue.forEach(d),Pe=E(we),se=$(we,"DIV",{class:!0}),y(se).forEach(d),we.forEach(d),F.forEach(d),this.h()},h(){m(e,"class","row"),m(o,"class","col"),m(u,"class","col"),m(T,"class","col"),m(w,"class","col"),m(B,"class","col-2"),m(N,"class","col-3"),m(h,"class","row"),m(_,"class","col-8"),m(tt,"class","col-4"),m(Q,"class","row"),m(It,"class","col-2"),m(ot,"class","col-2"),m(jt,"class","col"),m(ft,"class","col-2"),m(Nt,"class","col-2"),m(it,"class","col-2"),m(x,"class","row"),m(te,"class","col-8"),m(se,"class","col-4"),m(Wt,"class","row")},m(R,F){M(R,t,F),c(t,e);for(let Ct=0;Ct<r.length;Ct+=1)r[Ct]&&r[Ct].m(e,null);c(t,s),c(t,i),c(t,l),c(t,h),c(h,o),J(f,o,null),c(h,v),c(h,u),J(g,u,null),c(h,p),c(h,T),J(S,T,null),c(h,I),c(h,w),J(k,w,null),c(h,V),c(h,B),J(Z,B,null),c(h,L),c(h,N),J(H,N,null),c(t,W),c(t,U),c(t,z),c(t,Q),c(Q,_),J(P,_,null),c(Q,bt),c(Q,tt),J(nt,tt,null),c(tt,dt),c(tt,$t),c(tt,yt),J(Et,tt,null),c(tt,Vt),c(tt,at),c(tt,et),J(ut,tt,null),c(tt,G),c(tt,qt),c(tt,Lt),J(ct,tt,null),c(t,Bt),c(t,Ht),c(t,wt),c(t,x),c(x,It),J(Rt,It,null),c(x,Pt),c(x,ot),J(lt,ot,null),c(x,zt),c(x,jt),J(O,jt,null),c(x,rt),c(x,ft),J(kt,ft,null),c(x,Zt),c(x,Nt),J(Mt,Nt,null),c(x,xt),c(x,it),J(At,it,null),c(t,Kt),c(t,Ie),c(t,Re),c(t,Wt),c(Wt,te),J(Qt,te,null),c(Wt,Pe),c(Wt,se),ye=!0},p(R,[F]){F&4&&(ie=Se(R[2].peers),Ot(),r=va(r,F,Oe,1,R,ie,n,e,Aa,oa,null,la),Ut());const Ct={};F&4&&(Ct.transactor=R[2].transactor),f.$set(Ct);const St={};F&4&&(St.transactor=R[2].transactor),g.$set(St);const le={};F&4&&(le.transactor=R[2].transactor),S.$set(le);const oe={};F&4&&(oe.transactor=R[2].transactor),k.$set(oe);const ce={};F&4&&(ce.transactor=R[2].transactor),Z.$set(ce);const ee={};F&4&&(ee.clock=R[2].clock),F&2&&(ee.stats=R[1]),H.$set(ee);const fe={};F&4&&(fe.transactor=R[2].transactor),P.$set(fe);const ue={};F&1&&(ue.system=R[0]),nt.$set(ue);const Xt={};F&1&&(Xt.system=R[0]),Et.$set(Xt);const he={};F&4&&(he.transactor=R[2].transactor),ut.$set(he);const Dt={};F&4&&(Dt.transactor=R[2].transactor),ct.$set(Dt);const Tt={};F&4&&(Tt.transactor=R[2].transactor),Rt.$set(Tt);const de={};F&4&&(de.transactor=R[2].transactor),lt.$set(de);const me={};F&4&&(me.threads=parseInt(R[2].transactor.prefetch.tracing.value,10)),O.$set(me);const ve={};F&4&&(ve.transactor=R[2].transactor),kt.$set(ve);const ge={};F&4&&(ge.transactor=R[2].transactor),Mt.$set(ge);const pe={};F&4&&(pe.transactor=R[2].transactor),At.$set(pe);const _e={};F&4&&(_e.transactor=R[2].transactor),Qt.$set(_e)},i(R){if(!ye){for(let F=0;F<ie.length;F+=1)C(r[F]);C(f.$$.fragment,R),C(g.$$.fragment,R),C(S.$$.fragment,R),C(k.$$.fragment,R),C(Z.$$.fragment,R),C(H.$$.fragment,R),C(P.$$.fragment,R),C(nt.$$.fragment,R),C(Et.$$.fragment,R),C(ut.$$.fragment,R),C(ct.$$.fragment,R),C(Rt.$$.fragment,R),C(lt.$$.fragment,R),C(O.$$.fragment,R),C(kt.$$.fragment,R),C(Mt.$$.fragment,R),C(At.$$.fragment,R),C(Qt.$$.fragment,R),ye=!0}},o(R){for(let F=0;F<r.length;F+=1)A(r[F]);A(f.$$.fragment,R),A(g.$$.fragment,R),A(S.$$.fragment,R),A(k.$$.fragment,R),A(Z.$$.fragment,R),A(H.$$.fragment,R),A(P.$$.fragment,R),A(nt.$$.fragment,R),A(Et.$$.fragment,R),A(ut.$$.fragment,R),A(ct.$$.fragment,R),A(Rt.$$.fragment,R),A(lt.$$.fragment,R),A(O.$$.fragment,R),A(kt.$$.fragment,R),A(Mt.$$.fragment,R),A(At.$$.fragment,R),A(Qt.$$.fragment,R),ye=!1},d(R){R&&d(t);for(let F=0;F<r.length;F+=1)r[F].d();Y(f),Y(g),Y(S),Y(k),Y(Z),Y(H),Y(P),Y(nt),Y(Et),Y(ut),Y(ct),Y(Rt),Y(lt),Y(O),Y(kt),Y(Mt),Y(At),Y(Qt)}}}function Gr(a,t,e){let{system:r}=t,{stats:n}=t;r.boot();let s=r.data();const i=()=>{r.tick(),e(2,s=r.data()),requestAnimationFrame(i)};return $e(()=>{requestAnimationFrame(i)}),a.$$set=l=>{"system"in l&&e(0,r=l.system),"stats"in l&&e(1,n=l.stats)},[r,n,s]}let Kr=class extends pt{constructor(t){super(),_t(this,t,Gr,Qr,gt,{system:0,stats:1})}};function $a(a,t){for(var e=[],r=0;r!=t;++r)e.push(a.unsafeNext());return e}function Xr(a,t){var e=a.clone(),r=$a(e,t);return[r,e]}function ya(a,t){for(var e=0;e!=t;++e)a.unsafeNext()}function Jr(a,t){var e=a.clone();return ya(e,t),e}var Yr=214013,Zr=2531011,xr=4294967295,tn=(1<<31)-1,Le=function(a){return a*Yr+Zr&xr},He=function(a){return(a&tn)>>16},wa=function(){function a(t){this.seed=t}return a.prototype.clone=function(){return new a(this.seed)},a.prototype.next=function(){var t=new a(this.seed),e=t.unsafeNext();return[e,t]},a.prototype.unsafeNext=function(){var t=Le(this.seed),e=He(t),r=Le(t),n=He(r);this.seed=Le(r);var s=He(this.seed),i=s+(n+(e<<15)<<15);return i|0},a.prototype.getState=function(){return[this.seed]},a}();function en(a){var t=a.length===1;if(!t)throw new Error("The state must have been produced by a congruential32 RandomGenerator");return new wa(a[0])}var an=Object.assign(function(a){return new wa(a)},{fromState:en}),rn=function(a,t){var e=typeof Symbol=="function"&&a[Symbol.iterator];if(!e)return a;var r=e.call(a),n,s=[],i;try{for(;(t===void 0||t-- >0)&&!(n=r.next()).done;)s.push(n.value)}catch(l){i={error:l}}finally{try{n&&!n.done&&(e=r.return)&&e.call(r)}finally{if(i)throw i.error}}return s},nn=function(a,t,e){if(e||arguments.length===2)for(var r=0,n=t.length,s;r<n;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return a.concat(s||Array.prototype.slice.call(t))},Da=function(){function a(t,e){this.states=t,this.index=e}return a.twist=function(t){for(var e=t.slice(),r=0;r!==a.N-a.M;++r){var n=(e[r]&a.MASK_UPPER)+(e[r+1]&a.MASK_LOWER);e[r]=e[r+a.M]^n>>>1^-(n&1)&a.A}for(var r=a.N-a.M;r!==a.N-1;++r){var s=(e[r]&a.MASK_UPPER)+(e[r+1]&a.MASK_LOWER);e[r]=e[r+a.M-a.N]^s>>>1^-(s&1)&a.A}var i=(e[a.N-1]&a.MASK_UPPER)+(e[0]&a.MASK_LOWER);return e[a.N-1]=e[a.M-1]^i>>>1^-(i&1)&a.A,e},a.seeded=function(t){var e=Array(a.N);e[0]=t;for(var r=1;r!==a.N;++r){var n=e[r-1]^e[r-1]>>>30;e[r]=Math.imul(a.F,n)+r|0}return e},a.from=function(t){return new a(a.twist(a.seeded(t)),0)},a.prototype.clone=function(){return new a(this.states,this.index)},a.prototype.next=function(){var t=new a(this.states,this.index),e=t.unsafeNext();return[e,t]},a.prototype.unsafeNext=function(){var t=this.states[this.index];return t^=this.states[this.index]>>>a.U,t^=t<<a.S&a.B,t^=t<<a.T&a.C,t^=t>>>a.L,++this.index>=a.N&&(this.states=a.twist(this.states),this.index=0),t},a.prototype.getState=function(){return nn([this.index],rn(this.states),!1)},a.fromState=function(t){var e=t.length===a.N+1&&t[0]>=0&&t[0]<a.N;if(!e)throw new Error("The state must have been produced by a mersenne RandomGenerator");return new a(t.slice(1),t[0])},a.N=624,a.M=397,a.R=31,a.A=2567483615,a.F=1812433253,a.U=11,a.S=7,a.B=2636928640,a.T=15,a.C=4022730752,a.L=18,a.MASK_LOWER=Math.pow(2,a.R)-1,a.MASK_UPPER=Math.pow(2,a.R),a}();function sn(a){return Da.fromState(a)}const ln=Object.assign(function(a){return Da.from(a)},{fromState:sn});var Ea=function(){function a(t,e,r,n){this.s01=t,this.s00=e,this.s11=r,this.s10=n}return a.prototype.clone=function(){return new a(this.s01,this.s00,this.s11,this.s10)},a.prototype.next=function(){var t=new a(this.s01,this.s00,this.s11,this.s10),e=t.unsafeNext();return[e,t]},a.prototype.unsafeNext=function(){var t=this.s00^this.s00<<23,e=this.s01^(this.s01<<23|this.s00>>>9),r=t^this.s10^(t>>>18|e<<14)^(this.s10>>>5|this.s11<<27),n=e^this.s11^e>>>18^this.s11>>>5,s=this.s00+this.s10|0;return this.s01=this.s11,this.s00=this.s10,this.s11=n,this.s10=r,s},a.prototype.jump=function(){var t=new a(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},a.prototype.unsafeJump=function(){for(var t=0,e=0,r=0,n=0,s=[1667051007,2321340297,1548169110,304075285],i=0;i!==4;++i)for(var l=1;l;l<<=1)s[i]&l&&(t^=this.s01,e^=this.s00,r^=this.s11,n^=this.s10),this.unsafeNext();this.s01=t,this.s00=e,this.s11=r,this.s10=n},a.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},a}();function on(a){var t=a.length===4;if(!t)throw new Error("The state must have been produced by a xorshift128plus RandomGenerator");return new Ea(a[0],a[1],a[2],a[3])}var cn=Object.assign(function(a){return new Ea(-1,~a,a|0,0)},{fromState:on}),ka=function(){function a(t,e,r,n){this.s01=t,this.s00=e,this.s11=r,this.s10=n}return a.prototype.clone=function(){return new a(this.s01,this.s00,this.s11,this.s10)},a.prototype.next=function(){var t=new a(this.s01,this.s00,this.s11,this.s10),e=t.unsafeNext();return[e,t]},a.prototype.unsafeNext=function(){var t=this.s00+this.s10|0,e=this.s10^this.s00,r=this.s11^this.s01,n=this.s00,s=this.s01;return this.s00=n<<24^s>>>8^e^e<<16,this.s01=s<<24^n>>>8^r^(r<<16|e>>>16),this.s10=r<<5^e>>>27,this.s11=e<<5^r>>>27,t},a.prototype.jump=function(){var t=new a(this.s01,this.s00,this.s11,this.s10);return t.unsafeJump(),t},a.prototype.unsafeJump=function(){for(var t=0,e=0,r=0,n=0,s=[3639956645,3750757012,1261568508,386426335],i=0;i!==4;++i)for(var l=1;l;l<<=1)s[i]&l&&(t^=this.s01,e^=this.s00,r^=this.s11,n^=this.s10),this.unsafeNext();this.s01=t,this.s00=e,this.s11=r,this.s10=n},a.prototype.getState=function(){return[this.s01,this.s00,this.s11,this.s10]},a}();function fn(a){var t=a.length===4;if(!t)throw new Error("The state must have been produced by a xoroshiro128plus RandomGenerator");return new ka(a[0],a[1],a[2],a[3])}var un=Object.assign(function(a){return new ka(-1,~a,a|0,0)},{fromState:fn});function Sa(a,t){if(a.sign!==t.sign)return je(a,{sign:-t.sign,data:t.data});for(var e=[],r=0,n=a.data,s=t.data,i=n.length-1,l=s.length-1;i>=0||l>=0;--i,--l){var h=i>=0?n[i]:0,o=l>=0?s[l]:0,f=h+o+r;e.push(f>>>0),r=~~(f/4294967296)}return r!==0&&e.push(r),{sign:a.sign,data:e.reverse()}}function hn(a){a.sign=1;for(var t=a.data,e=t.length-1;e>=0;--e)if(t[e]===4294967295)t[e]=0;else return t[e]+=1,a;return t.unshift(1),a}function dn(a,t){for(var e=Math.max(a.length,t.length),r=0;r<e;++r){var n=r+a.length-e,s=r+t.length-e,i=n>=0?a[n]:0,l=s>=0?t[s]:0;if(i<l)return!0;if(i>l)return!1}return!1}function je(a,t){if(a.sign!==t.sign)return Sa(a,{sign:-t.sign,data:t.data});var e=a.data,r=t.data;if(dn(e,r)){var n=je(t,a);return n.sign=-n.sign,n}for(var s=[],i=0,l=e.length-1,h=r.length-1;l>=0||h>=0;--l,--h){var o=l>=0?e[l]:0,f=h>=0?r[h]:0,v=o-f-i;s.push(v>>>0),i=v<0?1:0}return{sign:a.sign,data:s.reverse()}}function ca(a){for(var t=a.data,e=0;e!==t.length&&t[e]===0;++e);return e===t.length?(a.sign=1,a.data=[0],a):(t.splice(0,e),a)}function Ve(a,t){if(t<0){var e=-t;a.sign=-1,a.data[0]=~~(e/4294967296),a.data[1]=e>>>0}else a.sign=1,a.data[0]=~~(t/4294967296),a.data[1]=t>>>0;return a}function mn(a,t,e){var r=t.data[1],n=t.data[0],s=t.sign,i=e.data[1],l=e.data[0],h=e.sign;if(a.sign=1,s===1&&h===-1){var o=r+i,f=n+l+(o>4294967295?1:0);return a.data[0]=f>>>0,a.data[1]=o>>>0,a}var v=r,u=n,g=i,p=l;s===-1&&(v=i,u=l,g=r,p=n);var T=0,S=v-g;return S<0&&(T=1,S=S>>>0),a.data[0]=u-p-T,a.data[1]=S,a}function Ta(a,t){for(var e=a>2?~~(4294967296/a)*a:4294967296,r=t.unsafeNext()+2147483648;r>=e;)r=t.unsafeNext()+2147483648;return r%a}function Ia(a,t,e){for(var r=t.length;;){for(var n=0;n!==r;++n){var s=n===0?t[0]+1:4294967296,i=Ta(s,e);a[n]=i}for(var n=0;n!==r;++n){var l=a[n],h=t[n];if(l<h)return a;if(l>h)break}}}function Ae(a,t,e){var r=ca(hn(je(t,a))),n=r.data.slice(0),s=Ia(n,r.data,e);return ca(Sa({sign:1,data:s},a))}function vn(a,t,e){if(e!=null){var r=e.clone();return[Ae(a,t,r),r]}return function(n){var s=n.clone();return[Ae(a,t,s),s]}}var be=typeof BigInt<"u"?BigInt:void 0;function Fe(a,t,e){for(var r=t-a+be(1),n=be(-2147483648),s=be(4294967296),i=s,l=1;i<r;)i*=s,++l;for(var h=i-i%r;;){for(var o=be(0),f=0;f!==l;++f){var v=e.unsafeNext();o=s*o+(be(v)-n)}if(o<h){var u=o%r;return u+a}}}function gn(a,t,e){if(e!=null){var r=e.clone();return[Fe(a,t,r),r]}return function(n){var s=n.clone();return[Fe(a,t,s),s]}}var pn=Number.MAX_SAFE_INTEGER,_n={sign:1,data:[0,0]},bn={sign:1,data:[0,0]},fa={sign:1,data:[0,0]},Ne=[0,0];function $n(a,t,e,r){var n=e<=pn?Ve(fa,e):mn(fa,Ve(_n,t),Ve(bn,a));return n.data[1]===4294967295?(n.data[0]+=1,n.data[1]=0):n.data[1]+=1,Ia(Ne,n.data,r),Ne[0]*4294967296+Ne[1]+a}function Be(a,t,e){var r=t-a;if(r<=4294967295){var n=Ta(r+1,e);return n+a}return $n(a,t,r,e)}function yn(a,t,e){if(e!=null){var r=e.clone();return[Be(a,t,r),r]}return function(n){var s=n.clone();return[Be(a,t,s),s]}}var wn="module",Dn="6.1.0",En="a413dd2b721516be2ef29adffb515c5ae67bfbad";const ua=Object.freeze(Object.defineProperty({__proto__:null,__commitHash:En,__type:wn,__version:Dn,congruential32:an,generateN:Xr,mersenne:ln,skipN:Jr,uniformArrayIntDistribution:vn,uniformBigIntDistribution:gn,uniformIntDistribution:yn,unsafeGenerateN:$a,unsafeSkipN:ya,unsafeUniformArrayIntDistribution:Ae,unsafeUniformBigIntDistribution:Fe,unsafeUniformIntDistribution:Be,xoroshiro128plus:un,xorshift128plus:cn},Symbol.toStringTag,{value:"Module"})),kn="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let Sn=(a,t,e)=>{let r=(2<<Math.log(a.length-1)/Math.LN2)-1,n=-~(1.6*r*t/a.length);return(s=t)=>{let i="";for(;;){let l=e(n),h=n;for(;h--;)if(i+=a[l[h]&r]||"",i.length===s)return i}}},ha=(a=21)=>{let t="",e=crypto.getRandomValues(new Uint8Array(a));for(;a--;)t+=kn[e[a]&63];return t};const Tn=5e3,In=1e4,re=5e3;class Rn{constructor(t,e=null){this._fps_stats=t.stats,this.seed=e===null?ha():e,this.initializeRandomGenerators(e),this.setup(),this.boot()}stringToSeed(t){let e=0;for(let r=0;r<t.length;r++)e=(e*31+t.charCodeAt(r))%Number.MAX_SAFE_INTEGER;return e}initializeRandomGenerators(t){let e;typeof t=="string"?e=this.stringToSeed(t):e=t!==null?t:Date.now(),this.rng=ua.xoroshiro128plus(e),this.getRandom=()=>{const[r,n]=ua.uniformIntDistribution(0,4294967295,this.rng);return this.rng=n,r/4294967295},this.nanoid=Sn("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ_-",21,r=>new Uint8Array(r).map(()=>Math.floor(this.getRandom()*256)))}setup(){this._data={clock:{},transactor:{prefetch:{probe:{id:"probe",min:0,max:24,value:0},tracing:{id:"tracing",min:0,max:48,value:0}},storageLayers:{prefetch:{id:"prefetch",label:"Tracing Prefetch",latency:()=>this.floatRandomBetween(5e-5,1e-4)},objectcache:{enabled:!0,id:"objectcache",label:"Object Cache",latency:()=>this.floatRandomBetween(5e-5,1e-4),hitRatio:{id:"objectcache",min:.05,max:.95,value:.25}},valcache:{enabled:!1,id:"valcache",label:"Valcache",latency:()=>this.floatRandomBetween(.01,.1),hitRatio:{id:"valcache",min:.05,max:.95,value:.95}},memcached:{enabled:!1,id:"memcached",label:"Memcached",latency:()=>this.floatRandomBetween(.3,3),hitRatio:{id:"memcached",min:.05,max:.95,value:.75}},storageRead:{id:"storageRead",label:"DynamoDB",latency:()=>this.floatRandomBetween(5,7)},storageWrite:{id:"storageWrite",label:"DynamoDB",latency:()=>this.floatRandomBetween(5,7)}}}}}boot(){this.initializeRandomGenerators(this.seed),this._data.clock={performance:{started:performance.now(),now:performance.now(),ticked:performance.now(),oneSecond:performance.now(),lastTransaction:performance.now(),lastPrefetch:performance.now()},time:{now:Date.now()}},this._data.transactor.transactionQueue=[],this._data.transactor.prefetchQueue=[],this._data.transactor.prefetchMap=new Map,this._data.transactor.transactionHistory=[],this._data.transactor.transactionHistorySize=0,this._data.transactor.prefetchHistory=[],this._data.transactor.prefetchLightHistory=[],this._data.transactor.prefetchHistorySize=0,this._data.transactor.prefetchLightHistorySize=0,this._data.transactor.id=this.nanoid(),this._data.peers=[],this.addPeer({label:"Peer A",transactionsPerSecond:{min:0,max:2e3,value:20},datomsPerTransaction:{min:10,max:200,value:20}}),this.addPeer({label:"Peer B",transactionsPerSecond:{min:0,max:2e3,value:20},datomsPerTransaction:{min:10,max:200,value:20}})}restart(t=!1){t&&(this.seed=ha()),this.boot()}addPeer(t){const e=this.nanoid(),r={id:e,...t};r.transactionsPerSecond.id=`tps-${e}`,r.datomsPerTransaction.id=`spt-${e}`,this._data.peers.push(r)}generateTransactorsForPeer(t){let e;parseInt(t.transactionsPerSecond.value,10)==0?e=0:e=this.intRandomBetween(Math.max(1,Math.floor(parseInt(t.transactionsPerSecond.value)*.75)),Math.ceil(parseInt(t.transactionsPerSecond.value)*1.25));const r=[];for(let n=0;n<e;n++){const s=this.intRandomBetween(Math.max(1,Math.floor(parseInt(t.datomsPerTransaction.value/10)*.75)),Math.ceil(parseInt(t.datomsPerTransaction.value/10)*1.25)),i=[];for(let l=0;l<s;l++)i.push({id:this.nanoid()});r.push({id:this.nanoid(),peer:t.id,segments:i})}return r}peersProcess(){const t=this._data.peers.map(e=>this.generateTransactorsForPeer(e)).flat();this.shuffle(t).forEach(e=>{this._data.transactor.transactionQueue.length<Tn&&(parseInt(this._data.transactor.prefetch.tracing.value,10)>0?e.segments.forEach(r=>{this._data.transactor.prefetchQueue.length<In&&(this._data.transactor.prefetchQueue.push(r),this._data.transactor.prefetchMap.set(r.id,!1))}):(this._data.transactor.prefetchQueue=[],this._data.transactor.prefetchMap=new Map,this._data.transactor.prefetchHistory=[],this._data.transactor.prefetchLightHistory=[],this._data.transactor.prefetchHistorySize=0,this._data.transactor.prefetchLightHistorySize=0),this._data.transactor.transactionQueue.push({...e,enqueuedAt:{performance:performance.now(),time:Date.now()}}))})}calculateProbability(t){return parseFloat(t.value)}generateLatencyForSegment(t){const e=this._data.transactor.storageLayers;return this._data.transactor.prefetchMap.get(t.id)?{...t,layer:e.prefetch.id,latency:e.prefetch.latency()}:e.objectcache.enabled&&this.floatRandomBetween(0,1)<=this.calculateProbability(e.objectcache.hitRatio)?{...t,layer:e.objectcache.id,latency:e.objectcache.latency()}:e.valcache.enabled&&this.floatRandomBetween(0,1)<=this.calculateProbability(e.valcache.hitRatio)?{...t,layer:e.valcache.id,latency:e.valcache.latency()}:e.memcached.enabled&&this.floatRandomBetween(0,1)<=this.calculateProbability(e.memcached.hitRatio)?{...t,layer:e.memcached.id,latency:e.memcached.latency()}:{...t,layer:e.storageRead.id,latency:e.storageRead.latency()}}generateLatenciesWithParallelFetches(t,e){let r=[];for(let n=0;n<t.length;n+=e){const s=t.slice(n,n+e),i=Math.max(...s.map(l=>l.latency));s.forEach(l=>{l.latency===i?r.push({...l}):r.push({...l,latency:0})})}return r}calculateExpectedTimeForTransaction(t){const e=this._data.transactor.prefetch,r=1+parseInt(e.probe.value),n=this.generateLatenciesWithParallelFetches(t.segments.map(v=>this.generateLatencyForSegment(v)),r),s=this._data.transactor.storageLayers.storageWrite,i=this.floatRandomBetween(0,1)<=n.length/75,l={layer:s.id,latency:i?s.latency():0},o=this.floatRandomBetween(0,1)<=n.length/10?n.length*5*this.floatRandomBetween(.004,.006):0,f={io:{prefetch:n.filter(v=>v.layer==="prefetch").reduce((v,u)=>v+u.latency,0),objectcache:n.filter(v=>v.layer==="objectcache").reduce((v,u)=>v+u.latency,0),valcache:n.filter(v=>v.layer==="valcache").reduce((v,u)=>v+u.latency,0),memcached:n.filter(v=>v.layer==="memcached").reduce((v,u)=>v+u.latency,0),storageRead:n.filter(v=>v.layer==="storageRead").reduce((v,u)=>v+u.latency,0),storageWrite:l.latency},sequentially:{fetch:n.reduce((v,u)=>v+u.latency,0),cpuWork:o,storageWrite:l.latency}};return f.total=Object.values(f.sequentially).reduce((v,u)=>v+u,0),t.stats=f,t}calculateExpectedTimeForTransactions(t){return t.map(e=>this.calculateExpectedTimeForTransaction(e))}calculateExpectedTimeForPrefetchSegments(t){const e=this._data.transactor.prefetch,r=parseInt(e.tracing.value,10);return this.generateLatenciesWithParallelFetches(t.map(n=>this.generateLatencyForSegment(n)),r)}prefetchProcess(){if(parseInt(this._data.transactor.prefetch.tracing.value,10)===0)return;this._data.transactor.prefetchQueue=this.calculateExpectedTimeForPrefetchSegments(this._data.transactor.prefetchQueue),this._data.transactor.prefetchQueue.length===0&&(this._data.clock.performance.lastPrefetch=performance.now());let t=performance.now()-this._data.clock.performance.lastPrefetch;for(;t>0&&this._data.transactor.prefetchQueue.length>0;){const e=this._data.transactor.prefetchQueue[0];if(e.latency<=t){const r={startedAt:{performance:this._data.clock.performance.lastPrefetch,time:Date.now()},finishedAt:{performance:this._data.clock.performance.lastPrefetch+e.latency},transaction:{...e,segments:[{id:e.id}],stats:{total:e.latency,io:{prefetch:0,objectcache:0,valcache:0,memcached:0,storageRead:0,storageWrite:0}}}};r.transaction.stats.io[e.layer]=e.latency,t-=e.latency,this._data.clock.performance.lastPrefetch+=e.latency,this._data.transactor.prefetchMap.has(e.id)&&this._data.transactor.prefetchMap.set(e.id,!0),this._data.transactor.prefetchQueue.shift(),this._data.transactor.prefetchHistory.push(r),this._data.transactor.prefetchHistory.length>re&&(this._data.transactor.prefetchHistory=this._data.transactor.prefetchHistory.slice(-re)),e.latency>0&&(this._data.transactor.prefetchLightHistory.push(r),this._data.transactor.prefetchLightHistory.length>re&&(this._data.transactor.prefetchLightHistory=this._data.transactor.prefetchLightHistory.slice(-re))),this._data.transactor.prefetchHistorySize+=1,this._data.transactor.prefetchLightHistorySize+=1}else break}}transactorProcess(){this._data.transactor.transactionQueue=this.calculateExpectedTimeForTransactions(this._data.transactor.transactionQueue),this._data.transactor.transactionQueue.length===0&&(this._data.clock.performance.lastTransaction=performance.now());let t=performance.now()-this._data.clock.performance.lastTransaction;for(;t>0&&this._data.transactor.transactionQueue.length>0;){const e=this._data.transactor.transactionQueue[0];if(e.stats.total<=t){const r={startedAt:{performance:this._data.clock.performance.lastTransaction,time:Date.now()},finishedAt:{performance:this._data.clock.performance.lastTransaction+e.stats.total},transaction:e};t-=e.stats.total,this._data.clock.performance.lastTransaction+=e.stats.total,this._data.transactor.transactionHistorySize+=1,this._data.transactor.transactionHistory.push(r),this._data.transactor.transactionHistory.length>re&&(this._data.transactor.transactionHistory=this._data.transactor.transactionHistory.slice(-re)),e.segments.forEach(n=>{this._data.transactor.prefetchMap.delete(n.id)}),this._data.transactor.transactionQueue.shift()}else break}}tick(){this._data.clock.performance.now=performance.now(),this._data.clock.time.now=Date.now(),this._fps_stats.begin(),this._data.clock.performance.now-this._data.clock.performance.oneSecond>=1e3&&(this._data.clock.performance.oneSecond=performance.now(),this.peersProcess()),this.prefetchProcess(),this.transactorProcess(),this._fps_stats.end(),this._data.clock.performance.ticked=performance.now(),this._data.clock.time.ticked=Date.now()}floatRandomBetween(t,e){return t+this.getRandom()*(e-t)}intRandomBetween(t,e){return Math.floor(this.floatRandomBetween(t,e))}shuffle(t){for(let e=t.length-1;e>0;e--){const r=Math.floor(this.getRandom()*(e+1));[t[e],t[r]]=[t[r],t[e]]}return t}data(){return this._data}}function Pn(a){let t,e=`<div class="col"><div class="alert alert-danger" role="alert"><strong>Do Not Use for Capacity Planning:</strong> This simulator is for educational purposes
				only. It is not for capacity planning or production tuning. Do not use its results to assess
				a real Datomic system&#39;s performance or expected throughput.</div></div> <div class="col"><div class="alert alert-success" role="alert"><strong>Do Use for Building Intuition:</strong> Use this simulator to learn Datomic systems&#39;
				configurations and features, and observe their effects on throughput and latency. Try to reason
				about why you are observing changes.</div></div>`,r,n,s;return n=new Kr({props:{system:a[1],stats:a[0]}}),{c(){t=b("div"),t.innerHTML=e,r=D(),K(n.$$.fragment),this.h()},l(i){t=$(i,"DIV",{class:!0,"data-svelte-h":!0}),ht(t)!=="svelte-nwn2x1"&&(t.innerHTML=e),r=E(i),X(n.$$.fragment,i),this.h()},h(){m(t,"class","row")},m(i,l){M(i,t,l),M(i,r,l),J(n,i,l),s=!0},p:vt,i(i){s||(C(n.$$.fragment,i),s=!0)},o(i){A(n.$$.fragment,i),s=!1},d(i){i&&(d(t),d(r)),Y(n,i)}}}function Mn(a){let t,e;return t=new za({props:{$$slots:{default:[Pn]},$$scope:{ctx:a}}}),{c(){K(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){J(t,r,n),e=!0},p(r,[n]){const s={};n&4&&(s.$$scope={dirty:n,ctx:r}),t.$set(s)},i(r){e||(C(t.$$.fragment,r),e=!0)},o(r){A(t.$$.fragment,r),e=!1},d(r){Y(t,r)}}}function Cn(a){const t=new qa,e=new Rn({stats:t});return $e(()=>{ze.show(),ze.hide()}),[t,e]}class Ln extends pt{constructor(t){super(),_t(this,t,Cn,Mn,gt,{})}}function da(a){let t,e;return t=new Ln({}),{c(){K(t.$$.fragment)},l(r){X(t.$$.fragment,r)},m(r,n){J(t,r,n),e=!0},i(r){e||(C(t.$$.fragment,r),e=!0)},o(r){A(t.$$.fragment,r),e=!1},d(r){Y(t,r)}}}function Hn(a){let t,e,r=a[0]&&da();return{c(){r&&r.c(),t=ke()},l(n){r&&r.l(n),t=ke()},m(n,s){r&&r.m(n,s),M(n,t,s),e=!0},p(n,[s]){n[0]?r?s&1&&C(r,1):(r=da(),r.c(),C(r,1),r.m(t.parentNode,t)):r&&(Ot(),A(r,1,1,()=>{r=null}),Ut())},i(n){e||(C(r),e=!0)},o(n){A(r),e=!1},d(n){n&&d(t),r&&r.d(n)}}}function Vn(a,t,e){let r=!1;return $e(async()=>{e(0,r=!0)}),[r]}class qn extends pt{constructor(t){super(),_t(this,t,Vn,Hn,gt,{})}}export{qn as component,Fn as universal};
