import{r as Xe,s as gt,c as ta,u as ea,g as aa,a as ra,x as sa,i as na,n as $t,o as we,y as $e,z as Ge}from"../chunks/scheduler.m4vwWxz1.js";import{a as R,t as C,S as _t,i as pt,e as p,c as $,d as y,g as v,o as m,j as M,s as S,b as B,y as St,h as P,f as q,k as o,l as tt,z as ve,A as He,B as la,u as Q,v as O,w as U,x as W,m as be,q as Ut,n as Wt}from"../chunks/index.BxN3u_vA.js";function ye(n){return(n==null?void 0:n.length)!==void 0?n:Array.from(n)}function ca(n,t){n.d(1),t.delete(n.key)}function oa(n,t){R(n,1,1,()=>{t.delete(n.key)})}function Ye(n,t,e,a,s,r,l,c,u,i,f,_){let d=n.length,g=r.length,b=d;const k={};for(;b--;)k[n[b].key]=b;const L=[],D=new Map,I=new Map,w=[];for(b=g;b--;){const E=_(s,r,b),h=e(E);let T=l.get(h);T?w.push(()=>T.p(E,t)):(T=i(h,E),T.c()),D.set(h,L[b]=T),h in k&&I.set(h,Math.abs(b-k[h]))}const j=new Set,z=new Set;function F(E){C(E,1),E.m(c,f),l.set(E.key,E),f=E.first,g--}for(;d&&g;){const E=L[g-1],h=n[d-1],T=E.key,G=h.key;E===h?(f=E.first,d--,g--):D.has(G)?!l.has(T)||j.has(T)?F(E):z.has(G)?d--:I.get(T)>I.get(G)?(z.add(T),F(E)):(j.add(G),d--):(u(h,l),d--)}for(;d--;){const E=n[d];D.has(E.key)||u(E,l)}for(;g;)F(L[g-1]);return Xe(w),L}const ia=!1,Dr=Object.freeze(Object.defineProperty({__proto__:null,ssr:ia},Symbol.toStringTag,{value:"Module"}));var Ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Je(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Ke={exports:{}};(function(n,t){(function(e,a){n.exports=a()})(Ze,function(){var e=function(){function a(g){return l.appendChild(g.dom),g}function s(g){for(var b=0;b<l.children.length;b++)l.children[b].style.display=b===g?"block":"none";r=g}var r=0,l=document.createElement("div");l.style.cssText="position:fixed;top:0;left:0;cursor:pointer;opacity:0.9;z-index:10000",l.addEventListener("click",function(g){g.preventDefault(),s(++r%l.children.length)},!1);var c=(performance||Date).now(),u=c,i=0,f=a(new e.Panel("FPS","#0ff","#002")),_=a(new e.Panel("MS","#0f0","#020"));if(self.performance&&self.performance.memory)var d=a(new e.Panel("MB","#f08","#201"));return s(0),{REVISION:16,dom:l,addPanel:a,showPanel:s,begin:function(){c=(performance||Date).now()},end:function(){i++;var g=(performance||Date).now();if(_.update(g-c,200),g>u+1e3&&(f.update(1e3*i/(g-u),100),u=g,i=0,d)){var b=performance.memory;d.update(b.usedJSHeapSize/1048576,b.jsHeapSizeLimit/1048576)}return g},update:function(){c=this.end()},domElement:l,setMode:s}};return e.Panel=function(a,s,r){var l=1/0,c=0,u=Math.round,i=u(window.devicePixelRatio||1),f=80*i,_=48*i,d=3*i,g=2*i,b=3*i,k=15*i,L=74*i,D=30*i,I=document.createElement("canvas");I.width=f,I.height=_,I.style.cssText="width:80px;height:48px";var w=I.getContext("2d");return w.font="bold "+9*i+"px Helvetica,Arial,sans-serif",w.textBaseline="top",w.fillStyle=r,w.fillRect(0,0,f,_),w.fillStyle=s,w.fillText(a,d,g),w.fillRect(b,k,L,D),w.fillStyle=r,w.globalAlpha=.9,w.fillRect(b,k,L,D),{dom:I,update:function(j,z){l=Math.min(l,j),c=Math.max(c,j),w.fillStyle=r,w.globalAlpha=1,w.fillRect(0,0,f,k),w.fillStyle=s,w.fillText(u(j)+" "+a+" ("+u(l)+"-"+u(c)+")",d,g),w.drawImage(I,b+i,k,L-i,D,b,k,L-i,D),w.fillRect(b+L-i,k,i,D),w.fillStyle=r,w.globalAlpha=.9,w.fillRect(b+L-i,k,i,u((1-j/z)*D))}}},e})})(Ke);var fa=Ke.exports;const ua=Je(fa);var xe={exports:{}};/**
 * @license MIT
 * topbar 3.0.0
 * http://buunguyen.github.io/topbar
 * Copyright (c) 2024 Buu Nguyen
 */(function(n){(function(t,e){function a(){s.width=t.innerWidth,s.height=5*f.barThickness;var d=s.getContext("2d");d.shadowBlur=f.shadowBlur,d.shadowColor=f.shadowColor;var g,b=d.createLinearGradient(0,0,s.width,0);for(g in f.barColors)b.addColorStop(g,f.barColors[g]);d.lineWidth=f.barThickness,d.beginPath(),d.moveTo(0,f.barThickness/2),d.lineTo(Math.ceil(r*s.width),f.barThickness/2),d.strokeStyle=b,d.stroke()}var s,r,l,c=null,u=null,i=null,f={autoRun:!0,barThickness:3,barColors:{0:"rgba(26,  188, 156, .9)",".25":"rgba(52,  152, 219, .9)",".50":"rgba(241, 196, 15,  .9)",".75":"rgba(230, 126, 34,  .9)","1.0":"rgba(211, 84,  0,   .9)"},shadowBlur:10,shadowColor:"rgba(0,   0,   0,   .6)",className:null},_={config:function(d){for(var g in d)f.hasOwnProperty(g)&&(f[g]=d[g])},show:function(d){var g,b;l||(d?i=i||setTimeout(()=>_.show(),d):(l=!0,u!==null&&t.cancelAnimationFrame(u),s||((b=(s=e.createElement("canvas")).style).position="fixed",b.top=b.left=b.right=b.margin=b.padding=0,b.zIndex=100001,b.display="none",f.className&&s.classList.add(f.className),g="resize",d=a,(b=t).addEventListener?b.addEventListener(g,d,!1):b.attachEvent?b.attachEvent("on"+g,d):b["on"+g]=d),s.parentElement||e.body.appendChild(s),s.style.opacity=1,s.style.display="block",_.progress(0),f.autoRun&&function k(){c=t.requestAnimationFrame(k),_.progress("+"+.05*Math.pow(1-Math.sqrt(r),2))}()))},progress:function(d){return d===void 0||(typeof d=="string"&&(d=(0<=d.indexOf("+")||0<=d.indexOf("-")?r:0)+parseFloat(d)),r=1<d?1:d,a()),r},hide:function(){clearTimeout(i),i=null,l&&(l=!1,c!=null&&(t.cancelAnimationFrame(c),c=null),function d(){return 1<=_.progress("+.1")&&(s.style.opacity-=.05,s.style.opacity<=.05)?(s.style.display="none",void(u=null)):void(u=t.requestAnimationFrame(d))}())}};n.exports=_}).call(Ze,window,document)})(xe);var da=xe.exports;const Le=Je(da);function ha(n){let t,e;const a=n[1].default,s=ta(a,n,n[0],null);return{c(){t=p("div"),s&&s.c(),this.h()},l(r){t=$(r,"DIV",{class:!0});var l=y(t);s&&s.l(l),l.forEach(v),this.h()},h(){m(t,"class","container main-container svelte-1afmsuo")},m(r,l){M(r,t,l),s&&s.m(t,null),e=!0},p(r,[l]){s&&s.p&&(!e||l&1)&&ea(s,a,r,r[0],e?ra(a,r[0],l,null):aa(r[0]),null)},i(r){e||(C(s,r),e=!0)},o(r){R(s,r),e=!1},d(r){r&&v(t),s&&s.d(r)}}}function ma(n,t,e){let{$$slots:a={},$$scope:s}=t;return n.$$set=r=>{"$$scope"in r&&e(0,s=r.$$scope)},[s,a]}class va extends _t{constructor(t){super(),pt(this,t,ma,ha,gt,{})}}class vt{static intRandomBetween(t,e){return t>e&&([t,e]=[e,t]),Math.floor(Math.random()*(e-t+1))+t}static floatRandomBetween(t,e){return t>e&&([t,e]=[e,t]),Math.random()*(e-t)+t}static shuffle(t){const e=[...t];let a=e.length;for(;a!=0;){let s=Math.floor(Math.random()*a);a--,[e[a],e[s]]=[e[s],e[a]]}return e}static formatDateTime(t){const e=new Date(t),a=String(e.getHours()).padStart(2,"0"),s=String(e.getMinutes()).padStart(2,"0"),r=String(e.getSeconds()).padStart(2,"0"),l=String(e.getMilliseconds()).padStart(3,"0");return`${a}:${s}:${r}.${l}`}}const ga=(n,t)=>(n.appendChild(t.dom),{destroy(){t.dom.remove()}});function _a(n){let t,e,a="Clock",s,r,l,c,u,i=vt.formatDateTime(n[0].time.now)+"",f,_,d,g,b,k,L;return{c(){t=p("div"),e=p("div"),e.textContent=a,s=S(),r=p("div"),l=p("div"),c=p("div"),u=p("div"),f=B(i),_=S(),d=p("div"),g=p("div"),this.h()},l(D){t=$(D,"DIV",{class:!0});var I=y(t);e=$(I,"DIV",{class:!0,"data-svelte-h":!0}),St(e)!=="svelte-lcmmol"&&(e.textContent=a),s=P(I),r=$(I,"DIV",{class:!0});var w=y(r);l=$(w,"DIV",{class:!0});var j=y(l);c=$(j,"DIV",{class:!0});var z=y(c);u=$(z,"DIV",{class:!0});var F=y(u);f=q(F,i),F.forEach(v),z.forEach(v),_=P(j),d=$(j,"DIV",{class:!0});var E=y(d);g=$(E,"DIV",{class:!0}),y(g).forEach(v),E.forEach(v),j.forEach(v),w.forEach(v),I.forEach(v),this.h()},h(){m(e,"class","card-header"),m(u,"class","clock text-center svelte-gxgc4u"),m(c,"class","col"),m(g,"class","stats svelte-gxgc4u"),m(d,"class","col text-center"),m(l,"class","row"),m(r,"class","card-body text-center"),m(t,"class","card")},m(D,I){M(D,t,I),o(t,e),o(t,s),o(t,r),o(r,l),o(l,c),o(c,u),o(u,f),o(l,_),o(l,d),o(d,g),k||(L=sa(b=ga.call(null,g,n[1])),k=!0)},p(D,[I]){I&1&&i!==(i=vt.formatDateTime(D[0].time.now)+"")&&tt(f,i),b&&na(b.update)&&I&2&&b.update.call(null,D[1])},i:$t,o:$t,d(D){D&&v(t),k=!1,L()}}}function pa(n,t,e){let{clock:a}=t,{stats:s}=t;const r=c=>{c.stopImmediatePropagation()},l=c=>{c.addEventListener("click",r,!0)};return we(()=>{s.dom.removeAttribute("style");const c=s.dom.querySelectorAll("canvas");c[0].removeAttribute("style"),c[0].classList.add("stats-fps"),c[1].removeAttribute("style"),c[1].classList.add("stats-ms"),c[2].removeAttribute("style"),c[2].classList.add("stats-mb"),l(s.dom),l(c[0]),l(c[1]),l(c[2])}),n.$$set=c=>{"clock"in c&&e(0,a=c.clock),"stats"in c&&e(1,s=c.stats)},[a,s]}class $a extends _t{constructor(t){super(),pt(this,t,pa,_a,gt,{clock:0,stats:1})}}class ht{static shortNumber(t,e){if(t==null)return"-";const a=e==="BRL"?"R$ ":"",s=e==="BRL"?"pt-br":"en-us",r=t;return r>5e11||r<-5e11?`${a}${(r/1e12).toLocaleString(s,{maximumFractionDigits:1})}T`:r>5e8||r<-5e8?`${a}${(r/1e9).toLocaleString(s,{maximumFractionDigits:1})}b`:r>5e5||r<-5e5?`${a}${(r/1e6).toLocaleString(s,{maximumFractionDigits:1})}MM`:r>5e4||r<-5e4?`${a}${(r/1e3).toLocaleString(s,{maximumFractionDigits:0})}k`:r>500||r<-500?`${a}${(r/1e3).toLocaleString(s,{maximumFractionDigits:1})}k`:r.toLocaleString(s,{maximumFractionDigits:2})==="-0"?`${a}0`:r.toLocaleString(s,{maximumFractionDigits:1})==="-0"?`${a}${r.toLocaleString(s,{maximumFractionDigits:2})}`:r.toLocaleString(s,{maximumFractionDigits:0})==="-0"?`${a}${r.toLocaleString(s,{maximumFractionDigits:1})}`:r<10&&r>0?`${a}${r.toLocaleString(s,{maximumFractionDigits:2})}`:`${a}${r.toLocaleString(s,{maximumFractionDigits:0})}`}static dateTime(t){if(t===void 0)return"-";const e=new Date(t),a=e.toLocaleDateString({weekday:"long",year:"numeric",month:"short",day:"numeric"}),s=e.toLocaleTimeString();return`${a} - ${s}`}static time(t){return t===void 0?"-":new Date(t).toLocaleTimeString()}static number(t,e,a){if(t===void 0)return"-";const s="en-us";return e===void 0&&(e=0),a===void 0&&(a=0),`${t.toLocaleString(s,{minimumFractionDigits:e,maximumFractionDigits:a})}`}static money(t,e){const a=e==="BRL"?"R$ ":"$",s=e==="BRL"?"pt-br":"en-us";return`${a}${t.toLocaleString(s,{minimumFractionDigits:2,maximumFractionDigits:2})}`}static percent(t,e,a){let s=2,r=2;return e!==void 0&&(s=e),a!==void 0&&(r=a),`${(t*100).toLocaleString("en-us",{minimumFractionDigits:s,maximumFractionDigits:r})}%`}static percentPrecise(t){return`${(t*100).toLocaleString("en-us",{minimumFractionDigits:0,maximumFractionDigits:5})}%`}}function ba(n){let t,e,a="Threads",s,r,l,c=ht.shortNumber(n[0])+"",u;return{c(){t=p("div"),e=p("div"),e.textContent=a,s=S(),r=p("div"),l=p("span"),u=B(c),this.h()},l(i){t=$(i,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0,"data-svelte-h":!0}),St(e)!=="svelte-1gtg1ai"&&(e.textContent=a),s=P(f),r=$(f,"DIV",{class:!0});var _=y(r);l=$(_,"SPAN",{class:!0});var d=y(l);u=q(d,c),d.forEach(v),_.forEach(v),f.forEach(v),this.h()},h(){m(e,"class","card-header"),m(l,"class","fs-3 actual"),m(r,"class","card-body text-center"),m(t,"class","card")},m(i,f){M(i,t,f),o(t,e),o(t,s),o(t,r),o(r,l),o(l,u)},p(i,[f]){f&1&&c!==(c=ht.shortNumber(i[0])+"")&&tt(u,c)},i:$t,o:$t,d(i){i&&v(t)}}}function ya(n,t,e){let{threads:a}=t;return n.$$set=s=>{"threads"in s&&e(0,a=s.threads)},[a]}class wa extends _t{constructor(t){super(),pt(this,t,ya,ba,gt,{threads:0})}}function ka(n){let t,e,a="Controls",s,r,l,c="Empty Queues and History",u,i;return{c(){t=p("div"),e=p("div"),e.textContent=a,s=S(),r=p("div"),l=p("button"),l.textContent=c,this.h()},l(f){t=$(f,"DIV",{class:!0});var _=y(t);e=$(_,"DIV",{class:!0,"data-svelte-h":!0}),St(e)!=="svelte-14h0nsf"&&(e.textContent=a),s=P(_),r=$(_,"DIV",{class:!0});var d=y(r);l=$(d,"BUTTON",{type:!0,class:!0,"data-svelte-h":!0}),St(l)!=="svelte-1r65ydb"&&(l.textContent=c),d.forEach(v),_.forEach(v),this.h()},h(){m(e,"class","card-header"),m(l,"type","button"),m(l,"class","btn btn-warning"),m(r,"class","card-body text-center"),m(t,"class","card")},m(f,_){M(f,t,_),o(t,e),o(t,s),o(t,r),o(r,l),u||(i=ve(l,"click",n[0]),u=!0)},p:$t,i:$t,o:$t,d(f){f&&v(t),u=!1,i()}}}function Ea(n,t,e){let{system:a}=t;const s=()=>{a.restart()};return n.$$set=r=>{"system"in r&&e(1,a=r.system)},[s,a]}class Da extends _t{constructor(t){super(),pt(this,t,Ea,ka,gt,{system:1})}}function Ia(n){let t,e,a,s,r,l=n[2](n[3])+"",c,u,i,f,_;return{c(){t=p("div"),e=p("label"),a=B(n[0]),s=B(": "),r=p("code"),c=B(l),u=S(),i=p("input"),this.h()},l(d){t=$(d,"DIV",{});var g=y(t);e=$(g,"LABEL",{for:!0,class:!0});var b=y(e);a=q(b,n[0]),s=q(b,": "),r=$(b,"CODE",{});var k=y(r);c=q(k,l),k.forEach(v),b.forEach(v),u=P(g),i=$(g,"INPUT",{id:!0,type:!0,class:!0,step:!0,min:!0,max:!0}),g.forEach(v),this.h()},h(){m(e,"for",`range-${n[6]}`),m(e,"class","form-label"),m(i,"id",`range-${n[6]}`),m(i,"type","range"),m(i,"class","form-range"),m(i,"step",n[1]),m(i,"min",n[4]),m(i,"max",n[5])},m(d,g){M(d,t,g),o(t,e),o(e,a),o(e,s),o(e,r),o(r,c),o(t,u),o(t,i),He(i,n[3]),f||(_=[ve(i,"change",n[9]),ve(i,"input",n[9]),ve(i,"input",n[7])],f=!0)},p(d,[g]){g&1&&tt(a,d[0]),g&12&&l!==(l=d[2](d[3])+"")&&tt(c,l),g&2&&m(i,"step",d[1]),g&8&&He(i,d[3])},i:$t,o:$t,d(d){d&&v(t),f=!1,Xe(_)}}}function Ta(n,t,e){let{range:a}=t,{label:s}=t,{step:r=1}=t,{format:l=g=>g}=t,{min:c,max:u,value:i,id:f}=a;const _=g=>{e(8,a.value=g.target.value,a)};function d(){i=la(this.value),e(3,i)}return n.$$set=g=>{"range"in g&&e(8,a=g.range),"label"in g&&e(0,s=g.label),"step"in g&&e(1,r=g.step),"format"in g&&e(2,l=g.format)},[s,r,l,i,c,u,f,_,a,d]}class Xt extends _t{constructor(t){super(),pt(this,t,Ta,Ia,gt,{range:8,label:0,step:1,format:2})}}function Sa(n){let t,e,a=n[0].label+"",s,r,l,c=n[0].id+"",u,i,f,_,d,g,b,k,L,D;return g=new Xt({props:{label:"transaction requests / second",format:n[1],range:n[0].transactionsPerSecond}}),L=new Xt({props:{label:"datoms / transaction",format:n[2],range:n[0].datomsPerTransaction}}),{c(){t=p("div"),e=p("div"),s=B(a),r=S(),l=p("code"),u=B(c),i=S(),f=p("div"),_=p("div"),d=p("div"),Q(g.$$.fragment),b=S(),k=p("div"),Q(L.$$.fragment),this.h()},l(I){t=$(I,"DIV",{class:!0});var w=y(t);e=$(w,"DIV",{class:!0});var j=y(e);s=q(j,a),r=P(j),l=$(j,"CODE",{});var z=y(l);u=q(z,c),z.forEach(v),j.forEach(v),i=P(w),f=$(w,"DIV",{class:!0});var F=y(f);_=$(F,"DIV",{class:!0});var E=y(_);d=$(E,"DIV",{class:!0});var h=y(d);O(g.$$.fragment,h),h.forEach(v),b=P(E),k=$(E,"DIV",{class:!0});var T=y(k);O(L.$$.fragment,T),T.forEach(v),E.forEach(v),F.forEach(v),w.forEach(v),this.h()},h(){m(e,"class","card-header"),m(d,"class","col"),m(k,"class","col"),m(_,"class","row"),m(f,"class","card-body"),m(t,"class","card")},m(I,w){M(I,t,w),o(t,e),o(e,s),o(e,r),o(e,l),o(l,u),o(t,i),o(t,f),o(f,_),o(_,d),U(g,d,null),o(_,b),o(_,k),U(L,k,null),D=!0},p(I,[w]){(!D||w&1)&&a!==(a=I[0].label+"")&&tt(s,a),(!D||w&1)&&c!==(c=I[0].id+"")&&tt(u,c);const j={};w&1&&(j.range=I[0].transactionsPerSecond),g.$set(j);const z={};w&1&&(z.range=I[0].datomsPerTransaction),L.$set(z)},i(I){D||(C(g.$$.fragment,I),C(L.$$.fragment,I),D=!0)},o(I){R(g.$$.fragment,I),R(L.$$.fragment,I),D=!1},d(I){I&&v(t),W(g),W(L)}}}function Pa(n,t,e){let{peer:a}=t;const s=l=>`~${ht.number(l)}`,r=l=>`~${ht.number(l)}`;return n.$$set=l=>{"peer"in l&&e(0,a=l.peer)},[a,s,r]}class Ha extends _t{constructor(t){super(),pt(this,t,Pa,Sa,gt,{peer:0})}}function Ce(n){let t,e,a,s;return{c(){t=p("div"),e=p("div"),this.h()},l(r){t=$(r,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var l=y(t);e=$(l,"DIV",{class:!0,style:!0}),y(e).forEach(v),l.forEach(v),this.h()},h(){m(e,"class",a=$e(`progress-bar bg-${n[1]} text-dark`)+" svelte-g4x9xm"),m(e,"style",s=`width: ${n[7]}%`),m(t,"class","progress hints svelte-g4x9xm"),m(t,"role","progressbar"),m(t,"aria-label","Info example"),m(t,"aria-valuenow",n[2]),m(t,"aria-valuemin","0"),m(t,"aria-valuemax",n[5])},m(r,l){M(r,t,l),o(t,e)},p(r,l){l&2&&a!==(a=$e(`progress-bar bg-${r[1]} text-dark`)+" svelte-g4x9xm")&&m(e,"class",a),l&128&&s!==(s=`width: ${r[7]}%`)&&m(e,"style",s),l&4&&m(t,"aria-valuenow",r[2]),l&32&&m(t,"aria-valuemax",r[5])},d(r){r&&v(t)}}}function La(n){let t,e,a=n[3](n[0])+"",s,r,l,c,u,i=n[2]!==null&&Ce(n);return{c(){t=p("div"),e=p("div"),s=B(a),c=S(),i&&i.c(),u=be(),this.h()},l(f){t=$(f,"DIV",{class:!0,role:!0,"aria-label":!0,"aria-valuenow":!0,"aria-valuemin":!0,"aria-valuemax":!0});var _=y(t);e=$(_,"DIV",{class:!0,style:!0});var d=y(e);s=q(d,a),d.forEach(v),_.forEach(v),c=P(f),i&&i.l(f),u=be(),this.h()},h(){m(e,"class",r=$e(`progress-bar bg-${n[1]} text-dark`)+" svelte-g4x9xm"),m(e,"style",l=`width: ${n[6]}%`),m(t,"class","progress"),m(t,"role","progressbar"),m(t,"aria-label","Info example"),m(t,"aria-valuenow",n[0]),m(t,"aria-valuemin","0"),m(t,"aria-valuemax",n[4])},m(f,_){M(f,t,_),o(t,e),o(e,s),M(f,c,_),i&&i.m(f,_),M(f,u,_)},p(f,[_]){_&9&&a!==(a=f[3](f[0])+"")&&tt(s,a),_&2&&r!==(r=$e(`progress-bar bg-${f[1]} text-dark`)+" svelte-g4x9xm")&&m(e,"class",r),_&64&&l!==(l=`width: ${f[6]}%`)&&m(e,"style",l),_&1&&m(t,"aria-valuenow",f[0]),_&16&&m(t,"aria-valuemax",f[4]),f[2]!==null?i?i.p(f,_):(i=Ce(f),i.c(),i.m(u.parentNode,u)):i&&(i.d(1),i=null)},i:$t,o:$t,d(f){f&&(v(t),v(c),v(u)),i&&i.d(f)}}}function Ca(n,t,e){let{value:a}=t,{color:s="info"}=t,{max:r=null}=t,{min:l=null}=t,{hits:c=null}=t,{format:u=b=>b}=t,i=r===null?0:r,f=0;const _=(b,k,L)=>k===0?0:(b!==0&&b<L?L+b:b)/k*100;let d=0,g=0;return n.$$set=b=>{"value"in b&&e(0,a=b.value),"color"in b&&e(1,s=b.color),"max"in b&&e(8,r=b.max),"min"in b&&e(9,l=b.min),"hits"in b&&e(2,c=b.hits),"format"in b&&e(3,u=b.format)},n.$$.update=()=>{n.$$.dirty&309&&(r===null&&a>i&&e(4,i=a),c!==null&&c>f&&e(5,f=c)),n.$$.dirty&565&&(e(6,d=_(a,i,l)),c!==null&&e(7,g=_(c,f,0)))},[a,s,c,u,i,f,d,g,r,l]}class qt extends _t{constructor(t){super(),pt(this,t,Ca,La,gt,{value:0,color:1,max:8,min:9,hits:2,format:3})}}function Va(n){let t,e,a;return e=new qt({props:{color:"danger",format:n[5],value:n[2][`${n[3]}Queue`].length}}),{c(){t=B(`Queue Size:
			`),Q(e.$$.fragment)},l(s){t=q(s,`Queue Size:
			`),O(e.$$.fragment,s)},m(s,r){M(s,t,r),U(e,s,r),a=!0},p(s,r){const l={};r&12&&(l.value=s[2][`${s[3]}Queue`].length),e.$set(l)},i(s){a||(C(e.$$.fragment,s),a=!0)},o(s){R(e.$$.fragment,s),a=!1},d(s){s&&v(t),W(e,s)}}}function Ma(n){let t,e,a;return e=new qt({props:{color:"danger",format:n[4],value:n[2][`${n[3]}Map`].size}}),{c(){t=B(`In Memory:
			`),Q(e.$$.fragment)},l(s){t=q(s,`In Memory:
			`),O(e.$$.fragment,s)},m(s,r){M(s,t,r),U(e,s,r),a=!0},p(s,r){const l={};r&12&&(l.value=s[2][`${s[3]}Map`].size),e.$set(l)},i(s){a||(C(e.$$.fragment,s),a=!0)},o(s){R(e.$$.fragment,s),a=!1},d(s){s&&v(t),W(e,s)}}}function Ra(n){let t,e,a,s,r,l,c,u;const i=[Ma,Va],f=[];function _(d,g){return d[0]?0:1}return l=_(n),c=f[l]=i[l](n),{c(){t=p("div"),e=p("div"),a=B(n[1]),s=S(),r=p("div"),c.c(),this.h()},l(d){t=$(d,"DIV",{class:!0});var g=y(t);e=$(g,"DIV",{class:!0});var b=y(e);a=q(b,n[1]),b.forEach(v),s=P(g),r=$(g,"DIV",{class:!0});var k=y(r);c.l(k),k.forEach(v),g.forEach(v),this.h()},h(){m(e,"class","card-header text-center"),m(r,"class","card-body"),m(t,"class","card")},m(d,g){M(d,t,g),o(t,e),o(e,a),o(t,s),o(t,r),f[l].m(r,null),u=!0},p(d,[g]){(!u||g&2)&&tt(a,d[1]);let b=l;l=_(d),l===b?f[l].p(d,g):(Ut(),R(f[b],1,1,()=>{f[b]=null}),Wt(),c=f[l],c?c.p(d,g):(c=f[l]=i[l](d),c.c()),C(c,1),c.m(r,null))},i(d){u||(C(c),u=!0)},o(d){R(c),u=!1},d(d){d&&v(t),f[l].d()}}}function Fa(n,t,e){let{memory:a=!1}=t,{title:s}=t,{transactor:r}=t,{queue:l}=t;const c=i=>`${ht.shortNumber(i)}`,u=i=>`${ht.shortNumber(i)}`;return n.$$set=i=>{"memory"in i&&e(0,a=i.memory),"title"in i&&e(1,s=i.title),"transactor"in i&&e(2,r=i.transactor),"queue"in i&&e(3,l=i.queue)},[a,s,r,l,c,u]}class Ie extends _t{constructor(t){super(),pt(this,t,Fa,Ra,gt,{memory:0,title:1,transactor:2,queue:3})}}function Aa(n){let t,e=ht.shortNumber(n[2].actual)+"",a,s,r,l,c=ht.shortNumber(n[2].potential)+"",u;return{c(){t=p("span"),a=B(e),s=S(),r=p("span"),l=B("↑ "),u=B(c),this.h()},l(i){t=$(i,"SPAN",{class:!0});var f=y(t);a=q(f,e),f.forEach(v),s=P(i),r=$(i,"SPAN",{class:!0});var _=y(r);l=q(_,"↑ "),u=q(_,c),_.forEach(v),this.h()},h(){m(t,"class","fs-3 actual svelte-dw75hy"),m(r,"class","text-info-emphasis")},m(i,f){M(i,t,f),o(t,a),M(i,s,f),M(i,r,f),o(r,l),o(r,u)},p(i,f){f&4&&e!==(e=ht.shortNumber(i[2].actual)+"")&&tt(a,e),f&4&&c!==(c=ht.shortNumber(i[2].potential)+"")&&tt(u,c)},d(i){i&&(v(t),v(s),v(r))}}}function Ba(n){let t,e,a=ht.number(n[2].latency,0,1)+"",s,r;return{c(){t=p("span"),e=B("~"),s=B(a),r=B("ms"),this.h()},l(l){t=$(l,"SPAN",{class:!0});var c=y(t);e=q(c,"~"),s=q(c,a),r=q(c,"ms"),c.forEach(v),this.h()},h(){m(t,"class","fs-3 actual svelte-dw75hy")},m(l,c){M(l,t,c),o(t,e),o(t,s),o(t,r)},p(l,c){c&4&&a!==(a=ht.number(l[2].latency,0,1)+"")&&tt(s,a)},d(l){l&&v(t)}}}function qa(n){let t,e,a,s,r;function l(i,f){return i[1]?Ba:Aa}let c=l(n),u=c(n);return{c(){t=p("div"),e=p("div"),a=B(n[0]),s=S(),r=p("div"),u.c(),this.h()},l(i){t=$(i,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0});var _=y(e);a=q(_,n[0]),_.forEach(v),s=P(f),r=$(f,"DIV",{class:!0});var d=y(r);u.l(d),d.forEach(v),f.forEach(v),this.h()},h(){m(e,"class","card-header text-center"),m(r,"class","card-body text-center"),m(t,"class","card")},m(i,f){M(i,t,f),o(t,e),o(e,a),o(t,s),o(t,r),u.m(r,null)},p(i,[f]){f&1&&tt(a,i[0]),c===(c=l(i))&&u?u.p(i,f):(u.d(1),u=c(i),u&&(u.c(),u.m(r,null)))},i:$t,o:$t,d(i){i&&v(t),u.d()}}}function ja(n,t,e){let{title:a}=t,{transactor:s}=t,{queue:r}=t,{per:l="second"}=t,{latency:c=!1}=t;const u=d=>{let g=d.length-1;const b=d[g].startedAt.performance,k=d[0].startedAt.performance,L=b-k,D=Math.min(5e3,L),I=[];for(;g>=0;){const j=d[g],z=b-j.startedAt.performance;if(I.push(j),g--,z>D)break;I.push(j),g--}const w=I.reduce((j,z)=>j+z.transaction.stats.total,0)/I.length;return l=="second"?{actual:Math.floor(I.length/D*1e3),potential:1e3/w,latency:w}:{actual:Math.floor(I.length/D*1e3*60),potential:1e3*60/w,latency:w}};let i,f={actual:0};const _=()=>{s[`${r}History`].length>0&&e(2,f=u(s[`${r}History`]))};return i=setInterval(()=>{_()},100),Ge(()=>{clearInterval(i)}),n.$$set=d=>{"title"in d&&e(0,a=d.title),"transactor"in d&&e(3,s=d.transactor),"queue"in d&&e(4,r=d.queue),"per"in d&&e(5,l=d.per),"latency"in d&&e(1,c=d.latency)},[a,c,f,s,r,l]}class Kt extends _t{constructor(t){super(),pt(this,t,ja,qa,gt,{title:0,transactor:3,queue:4,per:5,latency:1})}}function Na(n){let t,e,a,s,r,l,c,u;return c=new qt({props:{color:"danger",format:n[3],max:1,value:n[1]}}),{c(){t=p("div"),e=p("div"),a=B(n[0]),s=S(),r=p("div"),l=B(`5 seconds:
		`),Q(c.$$.fragment),this.h()},l(i){t=$(i,"DIV",{class:!0});var f=y(t);e=$(f,"DIV",{class:!0});var _=y(e);a=q(_,n[0]),_.forEach(v),s=P(f),r=$(f,"DIV",{class:!0});var d=y(r);l=q(d,`5 seconds:
		`),O(c.$$.fragment,d),d.forEach(v),f.forEach(v),this.h()},h(){m(e,"class","card-header text-center"),m(r,"class","card-body"),m(t,"class","card")},m(i,f){M(i,t,f),o(t,e),o(e,a),o(t,s),o(t,r),o(r,l),U(c,r,null),u=!0},p(i,[f]){(!u||f&1)&&tt(a,i[0]);const _={};f&2&&(_.value=i[1]),c.$set(_)},i(i){u||(C(c.$$.fragment,i),u=!0)},o(i){R(c.$$.fragment,i),u=!1},d(i){i&&v(t),W(c)}}}function za(n,t,e){let{title:a="Utilization"}=t,{transactor:s}=t;const r=f=>{let _=f.length-1;const d=f[_].startedAt.performance,g=f[0].startedAt.performance,b=Math.min(5e3,d-g),k=[];for(;_>=0;){const D=f[_];if(d-D.finishedAt.performance>b)break;k.push(D),_--}return k.reduce((D,I)=>D+I.transaction.stats.total,0)/b};let l,c=0;const u=()=>{s.transactionHistory.length>0&&e(1,c=r(s.transactionHistory))};l=setInterval(()=>{u()},100),Ge(()=>{clearInterval(l)});const i=f=>`${ht.percent(f,0,0)}`;return n.$$set=f=>{"title"in f&&e(0,a=f.title),"transactor"in f&&e(2,s=f.transactor)},[a,c,s,i]}class Qa extends _t{constructor(t){super(),pt(this,t,za,Na,gt,{title:0,transactor:2})}}function Oa(n){let t,e,a,s,r,l,c,u,i;return{c(){t=p("div"),e=p("input"),s=S(),r=p("label"),l=B(n[2]),this.h()},l(f){t=$(f,"DIV",{class:!0});var _=y(t);e=$(_,"INPUT",{class:!0,type:!0,id:!0}),s=P(_),r=$(_,"LABEL",{class:!0,for:!0});var d=y(r);l=q(d,n[2]),d.forEach(v),_.forEach(v),this.h()},h(){m(e,"class","form-check-input"),m(e,"type","checkbox"),m(e,"id",a=`check-${n[0].id}`),m(r,"class","form-check-label"),m(r,"for",c=`check-${n[0].id}`),m(t,"class","form-check")},m(f,_){M(f,t,_),o(t,e),e.checked=n[1],o(t,s),o(t,r),o(r,l),u||(i=ve(e,"change",n[3]),u=!0)},p(f,[_]){_&1&&a!==(a=`check-${f[0].id}`)&&m(e,"id",a),_&2&&(e.checked=f[1]),_&1&&c!==(c=`check-${f[0].id}`)&&m(r,"for",c)},i:$t,o:$t,d(f){f&&v(t),u=!1,i()}}}function Ua(n,t,e){let{check:a}=t,{enabled:s,label:r}=a;function l(){s=this.checked,e(1,s)}return n.$$set=c=>{"check"in c&&e(0,a=c.check)},n.$$.update=()=>{n.$$.dirty&2&&e(0,a.enabled=s,a)},[a,s,r,l]}class Ve extends _t{constructor(t){super(),pt(this,t,Ua,Oa,gt,{check:0})}}function Me(n){let t,e,a,s;return a=new Xt({props:{label:"Valcache (NVMe SSD) Hit Ratio",format:n[2],step:.05,range:n[0].storageLayers.valcache.hitRatio}}),{c(){t=p("br"),e=S(),Q(a.$$.fragment)},l(r){t=$(r,"BR",{}),e=P(r),O(a.$$.fragment,r)},m(r,l){M(r,t,l),M(r,e,l),U(a,r,l),s=!0},p(r,l){const c={};l&1&&(c.range=r[0].storageLayers.valcache.hitRatio),a.$set(c)},i(r){s||(C(a.$$.fragment,r),s=!0)},o(r){R(a.$$.fragment,r),s=!1},d(r){r&&(v(t),v(e)),W(a,r)}}}function Re(n){let t,e,a,s;return a=new Xt({props:{label:"Memcached (RAM) Hit Ratio",format:n[3],step:.05,range:n[0].storageLayers.memcached.hitRatio}}),{c(){t=p("br"),e=S(),Q(a.$$.fragment)},l(r){t=$(r,"BR",{}),e=P(r),O(a.$$.fragment,r)},m(r,l){M(r,t,l),M(r,e,l),U(a,r,l),s=!0},p(r,l){const c={};l&1&&(c.range=r[0].storageLayers.memcached.hitRatio),a.$set(c)},i(r){s||(C(a.$$.fragment,r),s=!0)},o(r){R(a.$$.fragment,r),s=!1},d(r){r&&(v(t),v(e)),W(a,r)}}}function Wa(n){let t,e,a,s,r=n[0].id+"",l,c,u,i,f,_,d,g,b,k,L,D,I,w,j,z;_=new Ve({props:{check:n[0].storageLayers.valcache}}),b=new Ve({props:{check:n[0].storageLayers.memcached}}),I=new Xt({props:{label:"Object Cache (RAM) Hit Ratio",format:n[1],step:.05,range:n[0].storageLayers.objectcache.hitRatio}});let F=n[0].storageLayers.valcache.enabled&&Me(n),E=n[0].storageLayers.memcached.enabled&&Re(n);return{c(){t=p("div"),e=p("div"),a=B("Storage Layers "),s=p("code"),l=B(r),c=S(),u=p("div"),i=p("div"),f=p("div"),Q(_.$$.fragment),d=S(),g=p("div"),Q(b.$$.fragment),k=S(),L=p("br"),D=S(),Q(I.$$.fragment),w=S(),F&&F.c(),j=S(),E&&E.c(),this.h()},l(h){t=$(h,"DIV",{class:!0});var T=y(t);e=$(T,"DIV",{class:!0});var G=y(e);a=q(G,"Storage Layers "),s=$(G,"CODE",{});var ot=y(s);l=q(ot,r),ot.forEach(v),G.forEach(v),c=P(T),u=$(T,"DIV",{class:!0});var Z=y(u);i=$(Z,"DIV",{class:!0});var X=y(i);f=$(X,"DIV",{class:!0});var rt=y(f);O(_.$$.fragment,rt),rt.forEach(v),d=P(X),g=$(X,"DIV",{class:!0});var it=y(g);O(b.$$.fragment,it),it.forEach(v),X.forEach(v),k=P(Z),L=$(Z,"BR",{}),D=P(Z),O(I.$$.fragment,Z),w=P(Z),F&&F.l(Z),j=P(Z),E&&E.l(Z),Z.forEach(v),T.forEach(v),this.h()},h(){m(e,"class","card-header"),m(f,"class","col"),m(g,"class","col"),m(i,"class","row"),m(u,"class","card-body"),m(t,"class","card")},m(h,T){M(h,t,T),o(t,e),o(e,a),o(e,s),o(s,l),o(t,c),o(t,u),o(u,i),o(i,f),U(_,f,null),o(i,d),o(i,g),U(b,g,null),o(u,k),o(u,L),o(u,D),U(I,u,null),o(u,w),F&&F.m(u,null),o(u,j),E&&E.m(u,null),z=!0},p(h,[T]){(!z||T&1)&&r!==(r=h[0].id+"")&&tt(l,r);const G={};T&1&&(G.check=h[0].storageLayers.valcache),_.$set(G);const ot={};T&1&&(ot.check=h[0].storageLayers.memcached),b.$set(ot);const Z={};T&1&&(Z.range=h[0].storageLayers.objectcache.hitRatio),I.$set(Z),h[0].storageLayers.valcache.enabled?F?(F.p(h,T),T&1&&C(F,1)):(F=Me(h),F.c(),C(F,1),F.m(u,j)):F&&(Ut(),R(F,1,1,()=>{F=null}),Wt()),h[0].storageLayers.memcached.enabled?E?(E.p(h,T),T&1&&C(E,1)):(E=Re(h),E.c(),C(E,1),E.m(u,null)):E&&(Ut(),R(E,1,1,()=>{E=null}),Wt())},i(h){z||(C(_.$$.fragment,h),C(b.$$.fragment,h),C(I.$$.fragment,h),C(F),C(E),z=!0)},o(h){R(_.$$.fragment,h),R(b.$$.fragment,h),R(I.$$.fragment,h),R(F),R(E),z=!1},d(h){h&&v(t),W(_),W(b),W(I),F&&F.d(),E&&E.d()}}}function Xa(n,t,e){let{transactor:a}=t;const s=c=>`${ht.percent(c,0,0)}`,r=c=>`${ht.percent(c,0,0)}`,l=c=>`${ht.percent(c,0,0)}`;return n.$$set=c=>{"transactor"in c&&e(0,a=c.transactor)},[a,s,r,l]}class Ga extends _t{constructor(t){super(),pt(this,t,Xa,Wa,gt,{transactor:0})}}function Ya(n){let t,e,a,s,r=n[0].id+"",l,c,u,i,f,_,d,g,b;return i=new Xt({props:{label:"Probe Threads (CPU Cores)",format:n[1],range:n[0].prefetch.probe}}),g=new Xt({props:{label:"Tracing Threads (CPU Cores)",format:n[2],range:n[0].prefetch.tracing}}),{c(){t=p("div"),e=p("div"),a=B("Prefetch "),s=p("code"),l=B(r),c=S(),u=p("div"),Q(i.$$.fragment),f=S(),_=p("br"),d=S(),Q(g.$$.fragment),this.h()},l(k){t=$(k,"DIV",{class:!0});var L=y(t);e=$(L,"DIV",{class:!0});var D=y(e);a=q(D,"Prefetch "),s=$(D,"CODE",{});var I=y(s);l=q(I,r),I.forEach(v),D.forEach(v),c=P(L),u=$(L,"DIV",{class:!0});var w=y(u);O(i.$$.fragment,w),f=P(w),_=$(w,"BR",{}),d=P(w),O(g.$$.fragment,w),w.forEach(v),L.forEach(v),this.h()},h(){m(e,"class","card-header"),m(u,"class","card-body"),m(t,"class","card")},m(k,L){M(k,t,L),o(t,e),o(e,a),o(e,s),o(s,l),o(t,c),o(t,u),U(i,u,null),o(u,f),o(u,_),o(u,d),U(g,u,null),b=!0},p(k,[L]){(!b||L&1)&&r!==(r=k[0].id+"")&&tt(l,r);const D={};L&1&&(D.range=k[0].prefetch.probe),i.$set(D);const I={};L&1&&(I.range=k[0].prefetch.tracing),g.$set(I)},i(k){b||(C(i.$$.fragment,k),C(g.$$.fragment,k),b=!0)},o(k){R(i.$$.fragment,k),R(g.$$.fragment,k),b=!1},d(k){k&&v(t),W(i),W(g)}}}function Za(n,t,e){let{transactor:a}=t;const s=l=>`${Intl.NumberFormat("en-US").format(l)}`,r=l=>`${Intl.NumberFormat("en-US").format(l)}`;return n.$$set=l=>{"transactor"in l&&e(0,a=l.transactor)},[a,s,r]}class Ja extends _t{constructor(t){super(),pt(this,t,Za,Ya,gt,{transactor:0})}}function Fe(n,t,e){const a=n.slice();return a[4]=t[e],a}function Ka(n){let t;return{c(){t=B("Segments")},l(e){t=q(e,"Segments")},m(e,a){M(e,t,a)},d(e){e&&v(t)}}}function xa(n){let t;return{c(){t=B("Transactions")},l(e){t=q(e,"Transactions")},m(e,a){M(e,t,a)},d(e){e&&v(t)}}}function Ae(n){let t,e,a,s,r,l,c,u,i,f,_,d,g,b,k,L,D,I,w,j,z,F;e=new qt({props:{color:"danger",format:rr,value:n[0][`${n[1]}History`].slice(-te).reduce(ze,0)/te}});let E=n[1]==="transaction"&&Be(n);return c=new qt({props:{color:"success",min:.6,max:me,format:nr,value:n[2](n[0][`${n[1]}History`],"objectcache"),hits:n[3](n[0][`${n[1]}History`],"objectcache")}}),_=new qt({props:{color:"info",min:.6,max:me,format:lr,value:n[2](n[0][`${n[1]}History`],"valcache"),hits:n[3](n[0][`${n[1]}History`],"valcache")}}),k=new qt({props:{color:"warning",min:.6,max:me,format:cr,value:n[2](n[0][`${n[1]}History`],"memcached"),hits:n[3](n[0][`${n[1]}History`],"memcached")}}),w=new qt({props:{color:"danger",min:.6,max:me,format:or,value:n[2](n[0][`${n[1]}History`],"storage"),hits:n[3](n[0][`${n[1]}History`],"storage")}}),{c(){t=B(`Latency:
			`),Q(e.$$.fragment),a=S(),E&&E.c(),s=S(),r=p("br"),l=B(`
			Object Cache:
			`),Q(c.$$.fragment),u=S(),i=p("br"),f=B(`

			Valcache:
			`),Q(_.$$.fragment),d=S(),g=p("br"),b=B(`
			Memcached:
			`),Q(k.$$.fragment),L=S(),D=p("br"),I=B(`
			DynamoDB:
			`),Q(w.$$.fragment),j=S(),z=p("br")},l(h){t=q(h,`Latency:
			`),O(e.$$.fragment,h),a=P(h),E&&E.l(h),s=P(h),r=$(h,"BR",{}),l=q(h,`
			Object Cache:
			`),O(c.$$.fragment,h),u=P(h),i=$(h,"BR",{}),f=q(h,`

			Valcache:
			`),O(_.$$.fragment,h),d=P(h),g=$(h,"BR",{}),b=q(h,`
			Memcached:
			`),O(k.$$.fragment,h),L=P(h),D=$(h,"BR",{}),I=q(h,`
			DynamoDB:
			`),O(w.$$.fragment,h),j=P(h),z=$(h,"BR",{})},m(h,T){M(h,t,T),U(e,h,T),M(h,a,T),E&&E.m(h,T),M(h,s,T),M(h,r,T),M(h,l,T),U(c,h,T),M(h,u,T),M(h,i,T),M(h,f,T),U(_,h,T),M(h,d,T),M(h,g,T),M(h,b,T),U(k,h,T),M(h,L,T),M(h,D,T),M(h,I,T),U(w,h,T),M(h,j,T),M(h,z,T),F=!0},p(h,T){const G={};T&3&&(G.value=h[0][`${h[1]}History`].slice(-te).reduce(ze,0)/te),e.$set(G),h[1]==="transaction"?E?(E.p(h,T),T&2&&C(E,1)):(E=Be(h),E.c(),C(E,1),E.m(s.parentNode,s)):E&&(Ut(),R(E,1,1,()=>{E=null}),Wt());const ot={};T&3&&(ot.value=h[2](h[0][`${h[1]}History`],"objectcache")),T&3&&(ot.hits=h[3](h[0][`${h[1]}History`],"objectcache")),c.$set(ot);const Z={};T&3&&(Z.value=h[2](h[0][`${h[1]}History`],"valcache")),T&3&&(Z.hits=h[3](h[0][`${h[1]}History`],"valcache")),_.$set(Z);const X={};T&3&&(X.value=h[2](h[0][`${h[1]}History`],"memcached")),T&3&&(X.hits=h[3](h[0][`${h[1]}History`],"memcached")),k.$set(X);const rt={};T&3&&(rt.value=h[2](h[0][`${h[1]}History`],"storage")),T&3&&(rt.hits=h[3](h[0][`${h[1]}History`],"storage")),w.$set(rt)},i(h){F||(C(e.$$.fragment,h),C(E),C(c.$$.fragment,h),C(_.$$.fragment,h),C(k.$$.fragment,h),C(w.$$.fragment,h),F=!0)},o(h){R(e.$$.fragment,h),R(E),R(c.$$.fragment,h),R(_.$$.fragment,h),R(k.$$.fragment,h),R(w.$$.fragment,h),F=!1},d(h){h&&(v(t),v(a),v(s),v(r),v(l),v(u),v(i),v(f),v(d),v(g),v(b),v(L),v(D),v(I),v(j),v(z)),W(e,h),E&&E.d(h),W(c,h),W(_,h),W(k,h),W(w,h)}}}function Be(n){let t,e,a,s;return a=new qt({props:{color:"success",min:.6,max:me,format:sr,value:n[2](n[0][`${n[1]}History`],"prefetch"),hits:n[3](n[0][`${n[1]}History`],"prefetch")}}),{c(){t=p("br"),e=B(`
				Tracing Prefetch:
				`),Q(a.$$.fragment)},l(r){t=$(r,"BR",{}),e=q(r,`
				Tracing Prefetch:
				`),O(a.$$.fragment,r)},m(r,l){M(r,t,l),M(r,e,l),U(a,r,l),s=!0},p(r,l){const c={};l&3&&(c.value=r[2](r[0][`${r[1]}History`],"prefetch")),l&3&&(c.hits=r[3](r[0][`${r[1]}History`],"prefetch")),a.$set(c)},i(r){s||(C(a.$$.fragment,r),s=!0)},o(r){R(a.$$.fragment,r),s=!1},d(r){r&&(v(t),v(e)),W(a,r)}}}function tr(n){let t,e="Segment";return{c(){t=p("th"),t.textContent=e,this.h()},l(a){t=$(a,"TH",{class:!0,scope:!0,"data-svelte-h":!0}),St(t)!=="svelte-1z017s"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"scope","col")},m(a,s){M(a,t,s)},d(a){a&&v(t)}}}function er(n){let t,e="Transaction";return{c(){t=p("th"),t.textContent=e,this.h()},l(a){t=$(a,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(t)!=="svelte-596dsb"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"width","1"),m(t,"scope","col")},m(a,s){M(a,t,s)},d(a){a&&v(t)}}}function qe(n){let t,e="Seg.";return{c(){t=p("th"),t.textContent=e,this.h()},l(a){t=$(a,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(t)!=="svelte-jyviti"&&(t.textContent=e),this.h()},h(){m(t,"class","text-center"),m(t,"width","1"),m(t,"scope","col")},m(a,s){M(a,t,s)},d(a){a&&v(t)}}}function je(n){let t,e=n[4].transaction.segments.length+"",a;return{c(){t=p("td"),a=B(e),this.h()},l(s){t=$(s,"TD",{class:!0});var r=y(t);a=q(r,e),r.forEach(v),this.h()},h(){m(t,"class","text-center")},m(s,r){M(s,t,r),o(t,a)},p(s,r){r&3&&e!==(e=s[4].transaction.segments.length+"")&&tt(a,e)},d(s){s&&v(t)}}}function Ne(n,t){let e,a,s,r=t[4].transaction.id.substring(0,12)+"",l,c,u,i,f=vt.formatDateTime(t[4].startedAt.time)+"",_,d,g,b,k=t[4].transaction.stats.total.toFixed(2)+"",L,D,I,w,j=t[4].transaction.stats.io.prefetch.toFixed(5)+"",z,F,E,h,T=t[4].transaction.stats.io.objectcache.toFixed(5)+"",G,ot,Z,X,rt=t[4].transaction.stats.io.valcache.toFixed(3)+"",it,mt,lt,ft,ut=t[4].transaction.stats.io.memcached.toFixed(2)+"",Vt,Mt,ct,It,Pt=t[4].transaction.stats.io.storage.toFixed(2)+"",bt,et,Ft,K=t[1]==="transaction"&&je(t);return{key:n,first:null,c(){e=p("tr"),a=p("th"),s=p("code"),l=B(r),c=B("..."),u=S(),i=p("td"),_=B(f),d=S(),K&&K.c(),g=S(),b=p("td"),L=B(k),D=B("ms"),I=S(),w=p("td"),z=B(j),F=B("ms"),E=S(),h=p("td"),G=B(T),ot=B("ms"),Z=S(),X=p("td"),it=B(rt),mt=B("ms"),lt=S(),ft=p("td"),Vt=B(ut),Mt=B("ms"),ct=S(),It=p("td"),bt=B(Pt),et=B("ms"),Ft=S(),this.h()},l(Tt){e=$(Tt,"TR",{});var A=y(e);a=$(A,"TH",{scope:!0,class:!0});var dt=y(a);s=$(dt,"CODE",{});var Y=y(s);l=q(Y,r),c=q(Y,"..."),Y.forEach(v),dt.forEach(v),u=P(A),i=$(A,"TD",{class:!0});var At=y(i);_=q(At,f),At.forEach(v),d=P(A),K&&K.l(A),g=P(A),b=$(A,"TD",{class:!0});var yt=y(b);L=q(yt,k),D=q(yt,"ms"),yt.forEach(v),I=P(A),w=$(A,"TD",{class:!0});var st=y(w);z=q(st,j),F=q(st,"ms"),st.forEach(v),E=P(A),h=$(A,"TD",{class:!0});var at=y(h);G=q(at,T),ot=q(at,"ms"),at.forEach(v),Z=P(A),X=$(A,"TD",{class:!0});var wt=y(X);it=q(wt,rt),mt=q(wt,"ms"),wt.forEach(v),lt=P(A),ft=$(A,"TD",{class:!0});var kt=y(ft);Vt=q(kt,ut),Mt=q(kt,"ms"),kt.forEach(v),ct=P(A),It=$(A,"TD",{class:!0});var N=y(It);bt=q(N,Pt),et=q(N,"ms"),N.forEach(v),Ft=P(A),A.forEach(v),this.h()},h(){m(a,"scope","row"),m(a,"class","text-center"),m(i,"class","text-center"),m(b,"class","text-center"),m(w,"class","text-center"),m(h,"class","text-center"),m(X,"class","text-center"),m(ft,"class","text-center"),m(It,"class","text-center"),this.first=e},m(Tt,A){M(Tt,e,A),o(e,a),o(a,s),o(s,l),o(s,c),o(e,u),o(e,i),o(i,_),o(e,d),K&&K.m(e,null),o(e,g),o(e,b),o(b,L),o(b,D),o(e,I),o(e,w),o(w,z),o(w,F),o(e,E),o(e,h),o(h,G),o(h,ot),o(e,Z),o(e,X),o(X,it),o(X,mt),o(e,lt),o(e,ft),o(ft,Vt),o(ft,Mt),o(e,ct),o(e,It),o(It,bt),o(It,et),o(e,Ft)},p(Tt,A){t=Tt,A&3&&r!==(r=t[4].transaction.id.substring(0,12)+"")&&tt(l,r),A&3&&f!==(f=vt.formatDateTime(t[4].startedAt.time)+"")&&tt(_,f),t[1]==="transaction"?K?K.p(t,A):(K=je(t),K.c(),K.m(e,g)):K&&(K.d(1),K=null),A&3&&k!==(k=t[4].transaction.stats.total.toFixed(2)+"")&&tt(L,k),A&3&&j!==(j=t[4].transaction.stats.io.prefetch.toFixed(5)+"")&&tt(z,j),A&3&&T!==(T=t[4].transaction.stats.io.objectcache.toFixed(5)+"")&&tt(G,T),A&3&&rt!==(rt=t[4].transaction.stats.io.valcache.toFixed(3)+"")&&tt(it,rt),A&3&&ut!==(ut=t[4].transaction.stats.io.memcached.toFixed(2)+"")&&tt(Vt,ut),A&3&&Pt!==(Pt=t[4].transaction.stats.io.storage.toFixed(2)+"")&&tt(bt,Pt)},d(Tt){Tt&&v(e),K&&K.d()}}}function ar(n){let t,e,a,s,r=n[0].id+"",l,c,u,i=ht.shortNumber(n[0][`${n[1]}HistorySize`])+"",f,_,d,g,b,k,L,D,I,w,j="At",z,F,E,h="I/O",T,G,ot="pF",Z,X,rt="oC",it,mt,lt="vC",ft,ut,Vt="mC",Mt,ct,It="DDB",Pt,bt,et=[],Ft=new Map,K;function Tt(N,J){return N[1]==="transaction"?xa:Ka}let A=Tt(n),dt=A(n),Y=n[0][`${n[1]}History`].length>0&&Ae(n);function At(N,J){return N[1]==="transaction"?er:tr}let yt=At(n),st=yt(n),at=n[1]==="transaction"&&qe(),wt=ye(n[0][`${n[1]}History`].slice(-4));const kt=N=>N[4].transaction.id;for(let N=0;N<wt.length;N+=1){let J=Fe(n,wt,N),nt=kt(J);Ft.set(nt,et[N]=Ne(nt,J))}return{c(){t=p("div"),e=p("div"),a=B("Transactor "),s=p("code"),l=B(r),c=S(),u=p("div"),f=B(i),_=S(),dt.c(),d=S(),g=p("div"),Y&&Y.c(),b=S(),k=p("table"),L=p("thead"),D=p("tr"),st.c(),I=S(),w=p("th"),w.textContent=j,z=S(),at&&at.c(),F=S(),E=p("th"),E.textContent=h,T=S(),G=p("th"),G.textContent=ot,Z=S(),X=p("th"),X.textContent=rt,it=S(),mt=p("th"),mt.textContent=lt,ft=S(),ut=p("th"),ut.textContent=Vt,Mt=S(),ct=p("th"),ct.textContent=It,Pt=S(),bt=p("tbody");for(let N=0;N<et.length;N+=1)et[N].c();this.h()},l(N){t=$(N,"DIV",{class:!0});var J=y(t);e=$(J,"DIV",{class:!0});var nt=y(e);a=q(nt,"Transactor "),s=$(nt,"CODE",{});var Gt=y(s);l=q(Gt,r),Gt.forEach(v),c=P(nt),u=$(nt,"DIV",{class:!0});var Rt=y(u);f=q(Rt,i),_=P(Rt),dt.l(Rt),Rt.forEach(v),nt.forEach(v),d=P(J),g=$(J,"DIV",{class:!0});var Ht=y(g);Y&&Y.l(Ht),b=P(Ht),k=$(Ht,"TABLE",{class:!0});var jt=y(k);L=$(jt,"THEAD",{});var Bt=y(L);D=$(Bt,"TR",{});var x=y(D);st.l(x),I=P(x),w=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(w)!=="svelte-o8lu9e"&&(w.textContent=j),z=P(x),at&&at.l(x),F=P(x),E=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(E)!=="svelte-tonrsj"&&(E.textContent=h),T=P(x),G=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(G)!=="svelte-1lkqkmh"&&(G.textContent=ot),Z=P(x),X=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(X)!=="svelte-1cz79sh"&&(X.textContent=rt),it=P(x),mt=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(mt)!=="svelte-std2k4"&&(mt.textContent=lt),ft=P(x),ut=$(x,"TH",{class:!0,width:!0,scope:!0,"data-svelte-h":!0}),St(ut)!=="svelte-1q771xf"&&(ut.textContent=Vt),Mt=P(x),ct=$(x,"TH",{class:!0,scope:!0,"data-svelte-h":!0}),St(ct)!=="svelte-1w6qb9"&&(ct.textContent=It),x.forEach(v),Bt.forEach(v),Pt=P(jt),bt=$(jt,"TBODY",{});var Yt=y(bt);for(let Qt=0;Qt<et.length;Qt+=1)et[Qt].l(Yt);Yt.forEach(v),jt.forEach(v),Ht.forEach(v),J.forEach(v),this.h()},h(){m(u,"class","float-end"),m(e,"class","card-header"),m(w,"class","text-center"),m(w,"width","1"),m(w,"scope","col"),m(E,"class","text-center"),m(E,"width","80"),m(E,"scope","col"),m(G,"class","text-center"),m(G,"width","1"),m(G,"scope","col"),m(X,"class","text-center"),m(X,"width","1"),m(X,"scope","col"),m(mt,"class","text-center"),m(mt,"width","1"),m(mt,"scope","col"),m(ut,"class","text-center"),m(ut,"width","1"),m(ut,"scope","col"),m(ct,"class","text-center"),m(ct,"scope","col"),m(k,"class","table"),m(g,"class","card-body"),m(t,"class","card")},m(N,J){M(N,t,J),o(t,e),o(e,a),o(e,s),o(s,l),o(e,c),o(e,u),o(u,f),o(u,_),dt.m(u,null),o(t,d),o(t,g),Y&&Y.m(g,null),o(g,b),o(g,k),o(k,L),o(L,D),st.m(D,null),o(D,I),o(D,w),o(D,z),at&&at.m(D,null),o(D,F),o(D,E),o(D,T),o(D,G),o(D,Z),o(D,X),o(D,it),o(D,mt),o(D,ft),o(D,ut),o(D,Mt),o(D,ct),o(k,Pt),o(k,bt);for(let nt=0;nt<et.length;nt+=1)et[nt]&&et[nt].m(bt,null);K=!0},p(N,[J]){(!K||J&1)&&r!==(r=N[0].id+"")&&tt(l,r),(!K||J&3)&&i!==(i=ht.shortNumber(N[0][`${N[1]}HistorySize`])+"")&&tt(f,i),A!==(A=Tt(N))&&(dt.d(1),dt=A(N),dt&&(dt.c(),dt.m(u,null))),N[0][`${N[1]}History`].length>0?Y?(Y.p(N,J),J&3&&C(Y,1)):(Y=Ae(N),Y.c(),C(Y,1),Y.m(g,b)):Y&&(Ut(),R(Y,1,1,()=>{Y=null}),Wt()),yt!==(yt=At(N))&&(st.d(1),st=yt(N),st&&(st.c(),st.m(D,I))),N[1]==="transaction"?at||(at=qe(),at.c(),at.m(D,F)):at&&(at.d(1),at=null),J&3&&(wt=ye(N[0][`${N[1]}History`].slice(-4)),et=Ye(et,J,kt,1,N,wt,Ft,bt,ca,Ne,null,Fe))},i(N){K||(C(Y),K=!0)},o(N){R(Y),K=!1},d(N){N&&v(t),dt.d(),Y&&Y.d(),st.d(),at&&at.d();for(let J=0;J<et.length;J+=1)et[J].d()}}}const te=30,me=7,rr=n=>`${n.toFixed(2)}ms`,ze=(n,t)=>n+t.transaction.stats.total,sr=n=>`${n.toFixed(5)}ms`,nr=n=>`${n.toFixed(5)}ms`,lr=n=>`${n.toFixed(3)}ms`,cr=n=>`${n.toFixed(2)}ms`,or=n=>`${n.toFixed(2)}ms`;function ir(n,t,e){let{transactor:a}=t,{queue:s}=t;const r=(c,u)=>{const i=c.slice(-te).filter(_=>_.transaction.stats.io[u]>0);return i.length===0?0:i.reduce((_,d)=>_+d.transaction.stats.io[u],0)/i.length},l=(c,u)=>c.slice(-te).reduce((_,d)=>_+(d.transaction.stats.io[u]>0?1:0),0);return n.$$set=c=>{"transactor"in c&&e(0,a=c.transactor),"queue"in c&&e(1,s=c.queue)},[a,s,r,l]}class Qe extends _t{constructor(t){super(),pt(this,t,ir,ar,gt,{transactor:0,queue:1})}}function Oe(n,t,e){const a=n.slice();return a[4]=t[e],a}function Ue(n,t){let e,a,s,r;return a=new Ha({props:{peer:t[4]}}),{key:n,first:null,c(){e=p("div"),Q(a.$$.fragment),s=S(),this.h()},l(l){e=$(l,"DIV",{class:!0});var c=y(e);O(a.$$.fragment,c),s=P(c),c.forEach(v),this.h()},h(){m(e,"class","col"),this.first=e},m(l,c){M(l,e,c),U(a,e,null),o(e,s),r=!0},p(l,c){t=l;const u={};c&4&&(u.peer=t[4]),a.$set(u)},i(l){r||(C(a.$$.fragment,l),r=!0)},o(l){R(a.$$.fragment,l),r=!1},d(l){l&&v(e),W(a)}}}function fr(n){let t,e,a=[],s=new Map,r,l,c,u,i,f,_,d,g,b,k,L,D,I,w,j,z,F,E,h,T,G,ot,Z,X,rt,it,mt,lt,ft,ut,Vt,Mt,ct,It,Pt,bt,et,Ft,K,Tt,A,dt,Y,At,yt,st,at,wt,kt,N,J,nt,Gt,Rt,Ht,jt,Bt,x,Yt,Qt,ke,Nt,Zt,zt,Ee,ee,ge,ae=ye(n[2].peers);const Te=H=>H[4].id;for(let H=0;H<ae.length;H+=1){let V=Oe(n,ae,H),Lt=Te(V);s.set(Lt,a[H]=Ue(Lt,V))}return f=new Ie({props:{title:"Transactor",queue:"transaction",transactor:n[2].transactor}}),g=new Qa({props:{transactor:n[2].transactor}}),L=new Kt({props:{queue:"transaction",title:"Latency",latency:!0,transactor:n[2].transactor}}),w=new Kt({props:{queue:"transaction",title:"TPS",per:"second",transactor:n[2].transactor}}),F=new Kt({props:{queue:"transaction",title:"TPM",per:"minute",transactor:n[2].transactor}}),T=new $a({props:{clock:n[2].clock,stats:n[1]}}),it=new Qe({props:{queue:"transaction",transactor:n[2].transactor}}),ft=new Da({props:{system:n[0]}}),ct=new Ja({props:{transactor:n[2].transactor}}),et=new Ga({props:{transactor:n[2].transactor}}),Y=new Ie({props:{title:"Tracing Prefetch",queue:"prefetch",transactor:n[2].transactor}}),st=new Ie({props:{title:"Prefetched Segments",memory:!0,queue:"prefetch",transactor:n[2].transactor}}),kt=new wa({props:{threads:parseInt(n[2].transactor.prefetch.tracing.value,10)}}),nt=new Kt({props:{queue:"prefetchLight",title:"Latency / Thread",latency:!0,transactor:n[2].transactor}}),Ht=new Kt({props:{queue:"prefetch",title:"SPS",per:"second",transactor:n[2].transactor}}),x=new Kt({props:{queue:"prefetch",title:"SPM",per:"minute",transactor:n[2].transactor}}),zt=new Qe({props:{queue:"prefetchLight",transactor:n[2].transactor}}),{c(){t=p("div"),e=p("div");for(let H=0;H<a.length;H+=1)a[H].c();r=S(),l=p("br"),c=S(),u=p("div"),i=p("div"),Q(f.$$.fragment),_=S(),d=p("div"),Q(g.$$.fragment),b=S(),k=p("div"),Q(L.$$.fragment),D=S(),I=p("div"),Q(w.$$.fragment),j=S(),z=p("div"),Q(F.$$.fragment),E=S(),h=p("div"),Q(T.$$.fragment),G=S(),ot=p("br"),Z=S(),X=p("div"),rt=p("div"),Q(it.$$.fragment),mt=S(),lt=p("div"),Q(ft.$$.fragment),ut=S(),Vt=p("br"),Mt=S(),Q(ct.$$.fragment),It=S(),Pt=p("br"),bt=S(),Q(et.$$.fragment),Ft=S(),K=p("br"),Tt=S(),A=p("div"),dt=p("div"),Q(Y.$$.fragment),At=S(),yt=p("div"),Q(st.$$.fragment),at=S(),wt=p("div"),Q(kt.$$.fragment),N=S(),J=p("div"),Q(nt.$$.fragment),Gt=S(),Rt=p("div"),Q(Ht.$$.fragment),jt=S(),Bt=p("div"),Q(x.$$.fragment),Yt=S(),Qt=p("br"),ke=S(),Nt=p("div"),Zt=p("div"),Q(zt.$$.fragment),Ee=S(),ee=p("div"),this.h()},l(H){t=$(H,"DIV",{});var V=y(t);e=$(V,"DIV",{class:!0});var Lt=y(e);for(let De=0;De<a.length;De+=1)a[De].l(Lt);Lt.forEach(v),r=P(V),l=$(V,"BR",{}),c=P(V),u=$(V,"DIV",{class:!0});var Et=y(u);i=$(Et,"DIV",{class:!0});var re=y(i);O(f.$$.fragment,re),re.forEach(v),_=P(Et),d=$(Et,"DIV",{class:!0});var se=y(d);O(g.$$.fragment,se),se.forEach(v),b=P(Et),k=$(Et,"DIV",{class:!0});var ne=y(k);O(L.$$.fragment,ne),ne.forEach(v),D=P(Et),I=$(Et,"DIV",{class:!0});var Jt=y(I);O(w.$$.fragment,Jt),Jt.forEach(v),j=P(Et),z=$(Et,"DIV",{class:!0});var le=y(z);O(F.$$.fragment,le),le.forEach(v),E=P(Et),h=$(Et,"DIV",{class:!0});var ce=y(h);O(T.$$.fragment,ce),ce.forEach(v),Et.forEach(v),G=P(V),ot=$(V,"BR",{}),Z=P(V),X=$(V,"DIV",{class:!0});var Ot=y(X);rt=$(Ot,"DIV",{class:!0});var oe=y(rt);O(it.$$.fragment,oe),oe.forEach(v),mt=P(Ot),lt=$(Ot,"DIV",{class:!0});var Ct=y(lt);O(ft.$$.fragment,Ct),ut=P(Ct),Vt=$(Ct,"BR",{}),Mt=P(Ct),O(ct.$$.fragment,Ct),It=P(Ct),Pt=$(Ct,"BR",{}),bt=P(Ct),O(et.$$.fragment,Ct),Ct.forEach(v),Ot.forEach(v),Ft=P(V),K=$(V,"BR",{}),Tt=P(V),A=$(V,"DIV",{class:!0});var Dt=y(A);dt=$(Dt,"DIV",{class:!0});var ie=y(dt);O(Y.$$.fragment,ie),ie.forEach(v),At=P(Dt),yt=$(Dt,"DIV",{class:!0});var fe=y(yt);O(st.$$.fragment,fe),fe.forEach(v),at=P(Dt),wt=$(Dt,"DIV",{class:!0});var ue=y(wt);O(kt.$$.fragment,ue),ue.forEach(v),N=P(Dt),J=$(Dt,"DIV",{class:!0});var de=y(J);O(nt.$$.fragment,de),de.forEach(v),Gt=P(Dt),Rt=$(Dt,"DIV",{class:!0});var he=y(Rt);O(Ht.$$.fragment,he),he.forEach(v),jt=P(Dt),Bt=$(Dt,"DIV",{class:!0});var Se=y(Bt);O(x.$$.fragment,Se),Se.forEach(v),Dt.forEach(v),Yt=P(V),Qt=$(V,"BR",{}),ke=P(V),Nt=$(V,"DIV",{class:!0});var _e=y(Nt);Zt=$(_e,"DIV",{class:!0});var Pe=y(Zt);O(zt.$$.fragment,Pe),Pe.forEach(v),Ee=P(_e),ee=$(_e,"DIV",{class:!0}),y(ee).forEach(v),_e.forEach(v),V.forEach(v),this.h()},h(){m(e,"class","row"),m(i,"class","col"),m(d,"class","col"),m(k,"class","col"),m(I,"class","col"),m(z,"class","col-2"),m(h,"class","col-3"),m(u,"class","row"),m(rt,"class","col-8"),m(lt,"class","col-4"),m(X,"class","row"),m(dt,"class","col-2"),m(yt,"class","col-2"),m(wt,"class","col"),m(J,"class","col-2"),m(Rt,"class","col-2"),m(Bt,"class","col-2"),m(A,"class","row"),m(Zt,"class","col-8"),m(ee,"class","col-4"),m(Nt,"class","row")},m(H,V){M(H,t,V),o(t,e);for(let Lt=0;Lt<a.length;Lt+=1)a[Lt]&&a[Lt].m(e,null);o(t,r),o(t,l),o(t,c),o(t,u),o(u,i),U(f,i,null),o(u,_),o(u,d),U(g,d,null),o(u,b),o(u,k),U(L,k,null),o(u,D),o(u,I),U(w,I,null),o(u,j),o(u,z),U(F,z,null),o(u,E),o(u,h),U(T,h,null),o(t,G),o(t,ot),o(t,Z),o(t,X),o(X,rt),U(it,rt,null),o(X,mt),o(X,lt),U(ft,lt,null),o(lt,ut),o(lt,Vt),o(lt,Mt),U(ct,lt,null),o(lt,It),o(lt,Pt),o(lt,bt),U(et,lt,null),o(t,Ft),o(t,K),o(t,Tt),o(t,A),o(A,dt),U(Y,dt,null),o(A,At),o(A,yt),U(st,yt,null),o(A,at),o(A,wt),U(kt,wt,null),o(A,N),o(A,J),U(nt,J,null),o(A,Gt),o(A,Rt),U(Ht,Rt,null),o(A,jt),o(A,Bt),U(x,Bt,null),o(t,Yt),o(t,Qt),o(t,ke),o(t,Nt),o(Nt,Zt),U(zt,Zt,null),o(Nt,Ee),o(Nt,ee),ge=!0},p(H,[V]){V&4&&(ae=ye(H[2].peers),Ut(),a=Ye(a,V,Te,1,H,ae,s,e,oa,Ue,null,Oe),Wt());const Lt={};V&4&&(Lt.transactor=H[2].transactor),f.$set(Lt);const Et={};V&4&&(Et.transactor=H[2].transactor),g.$set(Et);const re={};V&4&&(re.transactor=H[2].transactor),L.$set(re);const se={};V&4&&(se.transactor=H[2].transactor),w.$set(se);const ne={};V&4&&(ne.transactor=H[2].transactor),F.$set(ne);const Jt={};V&4&&(Jt.clock=H[2].clock),V&2&&(Jt.stats=H[1]),T.$set(Jt);const le={};V&4&&(le.transactor=H[2].transactor),it.$set(le);const ce={};V&1&&(ce.system=H[0]),ft.$set(ce);const Ot={};V&4&&(Ot.transactor=H[2].transactor),ct.$set(Ot);const oe={};V&4&&(oe.transactor=H[2].transactor),et.$set(oe);const Ct={};V&4&&(Ct.transactor=H[2].transactor),Y.$set(Ct);const Dt={};V&4&&(Dt.transactor=H[2].transactor),st.$set(Dt);const ie={};V&4&&(ie.threads=parseInt(H[2].transactor.prefetch.tracing.value,10)),kt.$set(ie);const fe={};V&4&&(fe.transactor=H[2].transactor),nt.$set(fe);const ue={};V&4&&(ue.transactor=H[2].transactor),Ht.$set(ue);const de={};V&4&&(de.transactor=H[2].transactor),x.$set(de);const he={};V&4&&(he.transactor=H[2].transactor),zt.$set(he)},i(H){if(!ge){for(let V=0;V<ae.length;V+=1)C(a[V]);C(f.$$.fragment,H),C(g.$$.fragment,H),C(L.$$.fragment,H),C(w.$$.fragment,H),C(F.$$.fragment,H),C(T.$$.fragment,H),C(it.$$.fragment,H),C(ft.$$.fragment,H),C(ct.$$.fragment,H),C(et.$$.fragment,H),C(Y.$$.fragment,H),C(st.$$.fragment,H),C(kt.$$.fragment,H),C(nt.$$.fragment,H),C(Ht.$$.fragment,H),C(x.$$.fragment,H),C(zt.$$.fragment,H),ge=!0}},o(H){for(let V=0;V<a.length;V+=1)R(a[V]);R(f.$$.fragment,H),R(g.$$.fragment,H),R(L.$$.fragment,H),R(w.$$.fragment,H),R(F.$$.fragment,H),R(T.$$.fragment,H),R(it.$$.fragment,H),R(ft.$$.fragment,H),R(ct.$$.fragment,H),R(et.$$.fragment,H),R(Y.$$.fragment,H),R(st.$$.fragment,H),R(kt.$$.fragment,H),R(nt.$$.fragment,H),R(Ht.$$.fragment,H),R(x.$$.fragment,H),R(zt.$$.fragment,H),ge=!1},d(H){H&&v(t);for(let V=0;V<a.length;V+=1)a[V].d();W(f),W(g),W(L),W(w),W(F),W(T),W(it),W(ft),W(ct),W(et),W(Y),W(st),W(kt),W(nt),W(Ht),W(x),W(zt)}}}function ur(n,t,e){let{system:a}=t,{stats:s}=t;a.start(),a.addPeer({label:"Peer A",transactionsPerSecond:{min:0,max:2e3,value:20},datomsPerTransaction:{min:10,max:200,value:20}}),a.addPeer({label:"Peer B",transactionsPerSecond:{min:0,max:2e3,value:20},datomsPerTransaction:{min:10,max:200,value:20}});let r=a.data();const l=()=>{a.tick(),e(2,r=a.data()),requestAnimationFrame(l)};return we(()=>{requestAnimationFrame(l)}),n.$$set=c=>{"system"in c&&e(0,a=c.system),"stats"in c&&e(1,s=c.stats)},[a,s,r]}let dr=class extends _t{constructor(t){super(),pt(this,t,ur,fr,gt,{system:0,stats:1})}};const hr="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let pe=(n=21)=>{let t="",e=crypto.getRandomValues(new Uint8Array(n));for(;n--;)t+=hr[e[n]&63];return t};const mr=5e3,vr=1e4,xt=5e3;class gr{constructor(t){this._fps_stats=t.stats,this.start()}start(){this._data={},this._data.clock={performance:{started:performance.now(),now:performance.now(),ticked:performance.now(),oneSecond:performance.now(),lastTransaction:performance.now(),lastPrefetch:performance.now()},time:{now:Date.now()}},this._data.transactor={id:pe(),prefetch:{probe:{id:"probe",min:0,max:24,value:0},tracing:{id:"tracing",min:0,max:48,value:0}},storageLayers:{prefetch:{id:"prefetch",label:"Tracing Prefetch",latency:()=>vt.floatRandomBetween(5e-5,1e-4)},objectcache:{enabled:!0,id:"objectcache",label:"Object Cache",latency:()=>vt.floatRandomBetween(5e-5,1e-4),hitRatio:{id:"objectcache",min:.05,max:.95,value:.25}},valcache:{enabled:!1,id:"valcache",label:"Valcache",latency:()=>vt.floatRandomBetween(.01,.1),hitRatio:{id:"valcache",min:.05,max:.95,value:.95}},memcached:{enabled:!1,id:"memcached",label:"Memcached",latency:()=>vt.floatRandomBetween(.3,3),hitRatio:{id:"memcached",min:.05,max:.95,value:.75}},storage:{id:"storage",label:"DynamoDB",latency:()=>vt.floatRandomBetween(5,7)}},transactionQueue:[],prefetchQueue:[],prefetchMap:new Map,transactionHistory:[],transactionHistorySize:0,prefetchHistory:[],prefetchLightHistory:[],prefetchHistorySize:0,prefetchLightHistorySize:0},this._data.peers=[]}restart(){this._data.transactor.transactionQueue=[],this._data.transactor.prefetchQueue=[],this._data.transactor.prefetchMap=new Map,this._data.transactor.transactionHistory=[],this._data.transactor.transactionHistorySize=0,this._data.transactor.prefetchHistory=[],this._data.transactor.prefetchLightHistory=[],this._data.transactor.prefetchHistorySize=0,this._data.transactor.prefetchLightHistorySize=0}addPeer(t){const e=pe(),a={id:e,...t};a.transactionsPerSecond.id=`tps-${e}`,a.datomsPerTransaction.id=`spt-${e}`,this._data.peers.push(a)}generateTransactorsForPeer(t){let e;parseInt(t.transactionsPerSecond.value,10)==0?e=0:e=vt.intRandomBetween(Math.max(1,Math.floor(parseInt(t.transactionsPerSecond.value)*.75)),Math.ceil(parseInt(t.transactionsPerSecond.value)*1.25));const a=[];for(let s=0;s<e;s++){const r=vt.intRandomBetween(Math.max(1,Math.floor(parseInt(t.datomsPerTransaction.value/10)*.75)),Math.ceil(parseInt(t.datomsPerTransaction.value/10)*1.25)),l=[];for(let c=0;c<r;c++)l.push({id:pe()});a.push({id:pe(),peer:t.id,segments:l})}return a}peersProcess(){const t=this._data.peers.map(e=>this.generateTransactorsForPeer(e)).flat();vt.shuffle(t).forEach(e=>{this._data.transactor.transactionQueue.length<mr&&(parseInt(this._data.transactor.prefetch.tracing.value,10)>0?e.segments.forEach(a=>{this._data.transactor.prefetchQueue.length<vr&&(this._data.transactor.prefetchQueue.push(a),this._data.transactor.prefetchMap.set(a.id,!1))}):(this._data.transactor.prefetchQueue=[],this._data.transactor.prefetchMap=new Map,this._data.transactor.prefetchHistory=[],this._data.transactor.prefetchLightHistory=[],this._data.transactor.prefetchHistorySize=0,this._data.transactor.prefetchLightHistorySize=0),this._data.transactor.transactionQueue.push({...e,enqueuedAt:{performance:performance.now(),time:Date.now()}}))})}calculateProbability(t){return parseFloat(t.value)}generateLatency(t){const e=this._data.transactor.storageLayers;return this._data.transactor.prefetchMap.get(t.id)?{...t,layer:e.prefetch.id,latency:e.prefetch.latency()}:e.objectcache.enabled&&vt.floatRandomBetween(0,1)<=this.calculateProbability(e.objectcache.hitRatio)?{...t,layer:e.objectcache.id,latency:e.objectcache.latency()}:e.valcache.enabled&&vt.floatRandomBetween(0,1)<=this.calculateProbability(e.valcache.hitRatio)?{...t,layer:e.valcache.id,latency:e.valcache.latency()}:e.memcached.enabled&&vt.floatRandomBetween(0,1)<=this.calculateProbability(e.memcached.hitRatio)?{...t,layer:e.memcached.id,latency:e.memcached.latency()}:{...t,layer:e.storage.id,latency:e.storage.latency()}}generateLatenciesWithParallelFetches(t,e){let a=[];for(let s=0;s<t.length;s+=e){const r=t.slice(s,s+e),l=Math.max(...r.map(c=>c.latency));r.forEach(c=>{c.latency===l?a.push({...c}):a.push({...c,latency:0})})}return a}calculateExpectedTimeForTransaction(t){const e=this._data.transactor.prefetch,a=1+parseInt(e.probe.value),s=this.generateLatenciesWithParallelFetches(t.segments.map(l=>this.generateLatency(l)),a),r={io:{prefetch:s.filter(l=>l.layer==="prefetch").reduce((l,c)=>l+c.latency,0),objectcache:s.filter(l=>l.layer==="objectcache").reduce((l,c)=>l+c.latency,0),valcache:s.filter(l=>l.layer==="valcache").reduce((l,c)=>l+c.latency,0),memcached:s.filter(l=>l.layer==="memcached").reduce((l,c)=>l+c.latency,0),storage:s.filter(l=>l.layer==="storage").reduce((l,c)=>l+c.latency,0)},sequentially:{fetch:s.reduce((l,c)=>l+c.latency,0),cpuWork:s.length*5*vt.floatRandomBetween(.004,.006),storageWrite:vt.floatRandomBetween(5,7)/10}};return r.total=Object.values(r.sequentially).reduce((l,c)=>l+c,0),t.stats=r,t}calculateExpectedTimeForTransactions(t){return t.map(e=>this.calculateExpectedTimeForTransaction(e))}calculateExpectedTimeForPrefetchSegments(t){const e=this._data.transactor.prefetch,a=parseInt(e.tracing.value,10);return this.generateLatenciesWithParallelFetches(t.map(s=>this.generateLatency(s)),a)}prefetchProcess(){if(parseInt(this._data.transactor.prefetch.tracing.value,10)===0)return;this._data.transactor.prefetchQueue=this.calculateExpectedTimeForPrefetchSegments(this._data.transactor.prefetchQueue),this._data.transactor.prefetchQueue.length===0&&(this._data.clock.performance.lastPrefetch=performance.now());let t=performance.now()-this._data.clock.performance.lastPrefetch;for(;t>0&&this._data.transactor.prefetchQueue.length>0;){const e=this._data.transactor.prefetchQueue[0];if(e.latency<=t){const a={startedAt:{performance:this._data.clock.performance.lastPrefetch,time:Date.now()},finishedAt:{performance:this._data.clock.performance.lastPrefetch+e.latency},transaction:{...e,segments:[{id:e.id}],stats:{total:e.latency,io:{prefetch:0,objectcache:0,valcache:0,memcached:0,storage:0}}}};a.transaction.stats.io[e.layer]=e.latency,t-=e.latency,this._data.clock.performance.lastPrefetch+=e.latency,this._data.transactor.prefetchMap.has(e.id)&&this._data.transactor.prefetchMap.set(e.id,!0),this._data.transactor.prefetchQueue.shift(),this._data.transactor.prefetchHistory.push(a),this._data.transactor.prefetchHistory.length>xt&&(this._data.transactor.prefetchHistory=this._data.transactor.prefetchHistory.slice(-xt)),e.latency>0&&(this._data.transactor.prefetchLightHistory.push(a),this._data.transactor.prefetchLightHistory.length>xt&&(this._data.transactor.prefetchLightHistory=this._data.transactor.prefetchLightHistory.slice(-xt))),this._data.transactor.prefetchHistorySize+=1,this._data.transactor.prefetchLightHistorySize+=1}else break}}transactorProcess(){this._data.transactor.transactionQueue=this.calculateExpectedTimeForTransactions(this._data.transactor.transactionQueue),this._data.transactor.transactionQueue.length===0&&(this._data.clock.performance.lastTransaction=performance.now());let t=performance.now()-this._data.clock.performance.lastTransaction;for(;t>0&&this._data.transactor.transactionQueue.length>0;){const e=this._data.transactor.transactionQueue[0];if(e.stats.total<=t){const a={startedAt:{performance:this._data.clock.performance.lastTransaction,time:Date.now()},finishedAt:{performance:this._data.clock.performance.lastTransaction+e.stats.total},transaction:e};t-=e.stats.total,this._data.clock.performance.lastTransaction+=e.stats.total,this._data.transactor.transactionHistorySize+=1,this._data.transactor.transactionHistory.push(a),this._data.transactor.transactionHistory.length>xt&&(this._data.transactor.transactionHistory=this._data.transactor.transactionHistory.slice(-xt)),e.segments.forEach(s=>{this._data.transactor.prefetchMap.delete(s.id)}),this._data.transactor.transactionQueue.shift()}else break}}tick(){this._data.clock.performance.now=performance.now(),this._data.clock.time.now=Date.now(),this._fps_stats.begin(),this._data.clock.performance.now-this._data.clock.performance.oneSecond>=1e3&&(this._data.clock.performance.oneSecond=performance.now(),this.peersProcess()),this.prefetchProcess(),this.transactorProcess(),this._fps_stats.end(),this._data.clock.performance.ticked=performance.now(),this._data.clock.time.ticked=Date.now()}data(){return this._data}}function _r(n){let t,e;return t=new dr({props:{system:n[1],stats:n[0]}}),{c(){Q(t.$$.fragment)},l(a){O(t.$$.fragment,a)},m(a,s){U(t,a,s),e=!0},p:$t,i(a){e||(C(t.$$.fragment,a),e=!0)},o(a){R(t.$$.fragment,a),e=!1},d(a){W(t,a)}}}function pr(n){let t,e;return t=new va({props:{$$slots:{default:[_r]},$$scope:{ctx:n}}}),{c(){Q(t.$$.fragment)},l(a){O(t.$$.fragment,a)},m(a,s){U(t,a,s),e=!0},p(a,[s]){const r={};s&4&&(r.$$scope={dirty:s,ctx:a}),t.$set(r)},i(a){e||(C(t.$$.fragment,a),e=!0)},o(a){R(t.$$.fragment,a),e=!1},d(a){W(t,a)}}}function $r(n){const t=new ua,e=new gr({stats:t});return we(()=>{Le.show(),Le.hide()}),[t,e]}class br extends _t{constructor(t){super(),pt(this,t,$r,pr,gt,{})}}function We(n){let t,e;return t=new br({}),{c(){Q(t.$$.fragment)},l(a){O(t.$$.fragment,a)},m(a,s){U(t,a,s),e=!0},i(a){e||(C(t.$$.fragment,a),e=!0)},o(a){R(t.$$.fragment,a),e=!1},d(a){W(t,a)}}}function yr(n){let t,e,a=n[0]&&We();return{c(){a&&a.c(),t=be()},l(s){a&&a.l(s),t=be()},m(s,r){a&&a.m(s,r),M(s,t,r),e=!0},p(s,[r]){s[0]?a?r&1&&C(a,1):(a=We(),a.c(),C(a,1),a.m(t.parentNode,t)):a&&(Ut(),R(a,1,1,()=>{a=null}),Wt())},i(s){e||(C(a),e=!0)},o(s){R(a),e=!1},d(s){s&&v(t),a&&a.d(s)}}}function wr(n,t,e){let a=!1;return we(async()=>{e(0,a=!0)}),[a]}class Tr extends _t{constructor(t){super(),pt(this,t,wr,yr,gt,{})}}export{Tr as component,Dr as universal};
